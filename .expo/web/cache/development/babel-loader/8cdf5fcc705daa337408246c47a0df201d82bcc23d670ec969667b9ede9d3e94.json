{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport { BarCodeScanner } from 'expo-barcode-scanner';\nimport * as Location from 'expo-location';\nimport firebase from \"../firebaseConfig\";\nimport { AntDesign, EvilIcons, MaterialCommunityIcons, MaterialIcons, Octicons } from '@expo/vector-icons';\nimport LottieView from 'lottie-react-native';\nimport App from \"../App\";\nimport { SwipeButton } from 'react-native-expo-swipe-button';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport MapView, { Marker, AnimatedRegion, Animated } from 'react-native-maps';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function ScannerScreen(props) {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    hasPermission = _useState2[0],\n    setHasPermission = _useState2[1];\n  var _useState3 = useState({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    businessData = _useState4[0],\n    setBusinessData = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    businessUID = _useState6[0],\n    setBusinessUID = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    peopleUID = _useState8[0],\n    setPeopleUID = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    scanned = _useState10[0],\n    setScanned = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    marked = _useState12[0],\n    setMarked = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    markingStarted = _useState14[0],\n    setMarkingStarted = _useState14[1];\n  var _useState15 = useState(false),\n    _useState16 = _slicedToArray(_useState15, 2),\n    showSwipe = _useState16[0],\n    setShowSwipe = _useState16[1];\n  var _useState17 = useState(false),\n    _useState18 = _slicedToArray(_useState17, 2),\n    showCameraLottie = _useState18[0],\n    setShowCameraLottie = _useState18[1];\n  var _useState19 = useState(false),\n    _useState20 = _slicedToArray(_useState19, 2),\n    showSwipeExit = _useState20[0],\n    setShowSwipeExit = _useState20[1];\n  var _useState21 = useState(false),\n    _useState22 = _slicedToArray(_useState21, 2),\n    showDistantLottie = _useState22[0],\n    setShowDistantLottie = _useState22[1];\n  var _useState23 = useState(false),\n    _useState24 = _slicedToArray(_useState23, 2),\n    showGPSLottie = _useState24[0],\n    setShowGPSLottie = _useState24[1];\n  var _useState25 = useState(false),\n    _useState26 = _slicedToArray(_useState25, 2),\n    tryAgain = _useState26[0],\n    setTryAgain = _useState26[1];\n  var animationRef = React.useRef();\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    wrongQRCode = _React$useState2[0],\n    setWrongQRCode = _React$useState2[1];\n  var _React$useState3 = React.useState(\"\"),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    currentLatitude = _React$useState4[0],\n    setCurrentLatitude = _React$useState4[1];\n  var _React$useState5 = React.useState(\"\"),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    currentLongitude = _React$useState6[0],\n    setCurrentLongitude = _React$useState6[1];\n  useEffect(function () {\n    var _animationRef$current;\n    (_animationRef$current = animationRef.current) == null ? void 0 : _animationRef$current.play();\n  }, []);\n  useEffect(function () {\n    console.log(\"Camera testing started\");\n    getBarCodeScannerPermissions();\n  }, []);\n  var getBarCodeScannerPermissions = function () {\n    var _ref = _asyncToGenerator(function* () {\n      var _yield$BarCodeScanner = yield BarCodeScanner.requestPermissionsAsync(),\n        status = _yield$BarCodeScanner.status;\n      setHasPermission(status === 'granted');\n    });\n    return function getBarCodeScannerPermissions() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  console.log(\"hasPermission ====> \", hasPermission);\n  function calculateDistance(lat1, lon1, lat2, lon2) {\n    console.log(\"Calculation started\");\n    var earthRadius = 6371000;\n    var lat1InRadians = toRadians(lat1);\n    var lon1InRadians = toRadians(lon1);\n    var lat2InRadians = toRadians(lat2);\n    var lon2InRadians = toRadians(lon2);\n    var diffLat = lat2InRadians - lat1InRadians;\n    var diffLon = lon2InRadians - lon1InRadians;\n    var a = Math.pow(Math.sin(diffLat / 2), 2) + Math.cos(lat1InRadians) * Math.cos(lat2InRadians) * Math.pow(Math.sin(diffLon / 2), 2);\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    var distance = earthRadius * c;\n    console.log(\"done distance => \", distance);\n    return distance;\n  }\n  function toRadians(degrees) {\n    return degrees * (Math.PI / 180);\n  }\n  function timeConverterforHour(UNIX_timestamp) {\n    var a = UNIX_timestamp;\n    a = (a - a % 1000) / 1000;\n    a = new Date(a * 1000);\n    var months = ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate().toString().padStart(2, '0');\n    var hour = a.getHours();\n    var min = a.getMinutes();\n    var dateData = (hour + ':' + min).toString();\n    return dateData;\n  }\n  function timeConverter(UNIX_timestamp) {\n    var a = UNIX_timestamp;\n    a = (a - a % 1000) / 1000;\n    a = new Date(a * 1000);\n    var months = ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate().toString().padStart(2, '0');\n    var hour = a.getHours();\n    var min = a.getMinutes();\n    var dateData = (year + '-' + month + '-' + date).toString();\n    return dateData;\n  }\n  function removelast3numbers(UNIX_timestamp) {\n    console.log(\"Date\", UNIX_timestamp);\n    var a = UNIX_timestamp;\n    a = (a - a % 1000) / 1000;\n    return a;\n  }\n  var markAttendance = function () {\n    var _ref2 = _asyncToGenerator(function* (bLatitude, bLongitude, bUID) {\n      setMarkingStarted(true);\n      var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n        status = _yield$Location$reque.status;\n      if (status !== 'granted') {\n        setErrorMsg('Permission to access location was denied');\n        setShowGPSLottie(true);\n        return;\n      }\n      var allowed = true;\n      var location = yield Location.getCurrentPositionAsync({});\n      if (location != null && location.coords) {\n        var _location$coords, _location$coords2;\n        if (calculateDistance(location == null ? void 0 : (_location$coords = location.coords) == null ? void 0 : _location$coords.latitude, location == null ? void 0 : (_location$coords2 = location.coords) == null ? void 0 : _location$coords2.longitude, bLatitude, bLongitude) < 100) {\n          var _props$route, _props$route$params;\n          firebase.firestore().collection(\"att_users\").doc(bUID).collection(\"people\").where(\"phonenumber\", \"==\", props == null ? void 0 : (_props$route = props.route) == null ? void 0 : (_props$route$params = _props$route.params) == null ? void 0 : _props$route$params.phoneNumber).get().then(function (querySnapshot) {\n            querySnapshot.forEach(function (documentSnapshot) {\n              setPeopleUID(documentSnapshot == null ? void 0 : documentSnapshot.id);\n              firebase.firestore().collection(\"att_users\").doc(bUID).collection(\"people\").doc(documentSnapshot == null ? void 0 : documentSnapshot.id).collection(\"attendance\").add({\n                in: removelast3numbers(Date.now()),\n                date: timeConverter(Date.now())\n              }).then(function (res) {\n                firebase.firestore().collection(\"att_users\").doc(bUID).collection(\"people\").doc(documentSnapshot.id).update({\n                  \"active_session_id\": res == null ? void 0 : res.id\n                });\n              }).then(function (res) {\n                var _props$route2, _props$route2$params;\n                firebase.firestore().collection(\"att_users\").doc(props == null ? void 0 : (_props$route2 = props.route) == null ? void 0 : (_props$route2$params = _props$route2.params) == null ? void 0 : _props$route2$params.uid).update({\n                  \"active_session\": true\n                });\n              }).then(function () {\n                return setMarked(\"entry\");\n              });\n            });\n          });\n        } else {\n          console.log(\"DATA ==> \", showDistantLottie, scanned, markingStarted, showSwipe);\n          setShowDistantLottie(true);\n          setMarkingStarted(false);\n          setShowSwipe(false);\n          console.log(\"AFTER ==> \", showDistantLottie, scanned, markingStarted, showSwipe);\n        }\n      } else {\n        setShowGPSLottie(true);\n      }\n    });\n    return function markAttendance(_x, _x2, _x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var markExit = function () {\n    var _ref3 = _asyncToGenerator(function* (bLatitude, bLongitude, bUID) {\n      setMarkingStarted(true);\n      var _yield$Location$reque2 = yield Location.requestForegroundPermissionsAsync(),\n        status = _yield$Location$reque2.status;\n      if (status !== 'granted') {\n        setErrorMsg('Permission to access location was denied');\n        setShowGPSLottie(true);\n        return;\n      }\n      var location = yield Location.getCurrentPositionAsync({});\n      if (location != null && location.coords) {\n        var _location$coords3, _location$coords4;\n        if (calculateDistance(location == null ? void 0 : (_location$coords3 = location.coords) == null ? void 0 : _location$coords3.latitude, location == null ? void 0 : (_location$coords4 = location.coords) == null ? void 0 : _location$coords4.longitude, bLatitude, bLongitude) < 100) {\n          var _props$route3, _props$route3$params;\n          firebase.firestore().collection(\"att_users\").doc(bUID).collection(\"people\").where(\"phonenumber\", \"==\", props == null ? void 0 : (_props$route3 = props.route) == null ? void 0 : (_props$route3$params = _props$route3.params) == null ? void 0 : _props$route3$params.phoneNumber).get().then(function (querySnapshot) {\n            querySnapshot.forEach(function (doc) {\n              setPeopleUID(doc == null ? void 0 : doc.id);\n              firebase.firestore().collection('att_users').doc(bUID).collection(\"people\").doc(doc == null ? void 0 : doc.id).collection(\"attendance\").where(\"date\", \"==\", timeConverter(Date.now())).get().then(function (querySnapshot) {\n                querySnapshot.forEach(function (documentSnapshot) {\n                  console.log(doc == null ? void 0 : doc.id, documentSnapshot == null ? void 0 : documentSnapshot.id);\n                  firebase.firestore().collection(\"att_users\").doc(bUID).collection(\"people\").doc(doc == null ? void 0 : doc.id).collection(\"attendance\").doc(documentSnapshot == null ? void 0 : documentSnapshot.id).update({\n                    out: removelast3numbers(Date.now())\n                  }).then(function (res) {\n                    return firebase.firestore().collection(\"att_users\").doc(bUID).collection(\"people\").doc(doc == null ? void 0 : doc.id).update({\n                      \"active_session_id\": \"\"\n                    });\n                  }).then(function (res) {\n                    var _props$route4, _props$route4$params;\n                    firebase.firestore().collection(\"att_users\").doc(props == null ? void 0 : (_props$route4 = props.route) == null ? void 0 : (_props$route4$params = _props$route4.params) == null ? void 0 : _props$route4$params.uid).update({\n                      \"active_session\": false\n                    });\n                  }).then(function () {\n                    return setMarked(\"exit\");\n                  });\n                });\n              });\n            });\n          });\n        } else {\n          setShowDistantLottie(true);\n          setMarkingStarted(false);\n          setShowSwipeExit(false);\n        }\n      } else setShowGPSLottie(true);\n    });\n    return function markExit(_x4, _x5, _x6) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleBarCodeScanned = function handleBarCodeScanned(_ref4) {\n    var _props$route5, _props$route5$params;\n    var type = _ref4.type,\n      data = _ref4.data;\n    console.log(\"QR code scanned\");\n    setScanned(true);\n    setBusinessUID(data == null ? void 0 : data.split(\"attendance\")[1]);\n    firebase.firestore().collection(\"att_users\").doc(props == null ? void 0 : (_props$route5 = props.route) == null ? void 0 : (_props$route5$params = _props$route5.params) == null ? void 0 : _props$route5$params.uid).onSnapshot(function (doc) {\n      var _doc$data;\n      doc != null && (_doc$data = doc.data()) != null && _doc$data.active_session ? setShowSwipeExit(true) : setShowSwipe(true);\n    });\n    firebase.firestore().collection(\"att_users\").doc(data == null ? void 0 : data.split(\"attendance\")[1]).onSnapshot(function (doc) {\n      setBusinessData(doc == null ? void 0 : doc.data());\n    });\n  };\n  var openSettings = function openSettings() {\n    console.log(\"OPEN\");\n    if (Platform.OS === 'ios') {\n      Linking.openURL('app-settings:');\n    } else {\n      Linking.openSettings();\n    }\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(BarCodeScanner, {\n      onBarCodeScanned: scanned ? undefined : handleBarCodeScanned,\n      style: [StyleSheet.absoluteFillObject, {\n        backgroundColor: \"black\",\n        height: \"100%\"\n      }]\n    }), scanned ? showSwipe ? _jsx(View, {\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: \"#FFF\",\n        padding: 25,\n        position: \"absolute\",\n        top: \"0%\",\n        margin: \"0%\",\n        borderRadius: 20,\n        paddingBottom: 10\n      },\n      children: marked ? _jsxs(_Fragment, {\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 40,\n            fontFamily: \"UberMoveBold\",\n            color: \"#000\",\n            marginTop: 40,\n            paddingLeft: 0\n          },\n          children: \"Done\"\n        }), _jsx(Text, {\n          style: {\n            fontSize: 25,\n            fontFamily: \"UberMoveRegular\",\n            color: \"#000\",\n            marginTop: 10,\n            paddingLeft: 0\n          },\n          children: timeConverterforHour(Date.now())\n        }), _jsx(Text, {\n          style: {\n            fontSize: 25,\n            fontFamily: \"UberMoveRegular\",\n            color: \"#000\",\n            marginTop: 2.5,\n            paddingLeft: 0\n          },\n          children: timeConverter(Date.now())\n        }), _jsx(MapView, {\n          style: [styles.map, {\n            height: \"60%\",\n            alignItems: \"stretch\",\n            borderRadius: 10,\n            marginTop: 30\n          }],\n          region: {\n            latitude: businessData == null ? void 0 : businessData.latitude,\n            longitude: businessData == null ? void 0 : businessData.longitude,\n            latitudeDelta: 0.0043,\n            longitudeDelta: 0.0034\n          },\n          children: _jsx(Marker, {\n            coordinate: {\n              latitude: businessData == null ? void 0 : businessData.latitude,\n              longitude: businessData == null ? void 0 : businessData.longitude,\n              latitudeDelta: 0.0043,\n              longitudeDelta: 0.0034\n            },\n            title: \"Office\",\n            pinColor: \"red\",\n            draggable: true,\n            style: {\n              width: 200,\n              height: 200\n            }\n          })\n        }), _jsx(View, {\n          style: {\n            position: \"absolute\",\n            bottom: 25,\n            left: \"7.5%\",\n            right: \"7.5%\"\n          },\n          children: _jsxs(TouchableOpacity, {\n            onPress: function onPress() {\n              var _props$navigation;\n              return props == null ? void 0 : (_props$navigation = props.navigation) == null ? void 0 : _props$navigation.navigate(\"ViewProfile\", {\n                profileUID: peopleUID,\n                uid: businessUID,\n                comingFrom: \"ScannerScreen\"\n              });\n            },\n            style: {\n              backgroundColor: \"#000\",\n              paddingHorizontal: 20,\n              borderRadius: 6,\n              padding: 15,\n              width: \"100%\",\n              marginTop: 35,\n              marginBottom: 10,\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\"\n            },\n            children: [_jsx(Text, {\n              style: {\n                color: \"#FFF\",\n                fontSize: 25,\n                fontFamily: \"UberMoveBold\"\n              },\n              children: \"Calendar\"\n            }), _jsx(Octicons, {\n              name: \"chevron-right\",\n              size: 26,\n              color: \"#FFF\",\n              style: {\n                margin: 5\n              }\n            })]\n          })\n        })]\n      }) : _jsxs(_Fragment, {\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 40,\n            fontFamily: \"UberMoveBold\",\n            color: \"#000\",\n            marginTop: 40,\n            paddingLeft: 0\n          },\n          children: markingStarted ? \"Please Wait\" : \"Mark Entry?\"\n        }), _jsx(Text, {\n          style: {\n            fontSize: 22,\n            fontFamily: \"UberMoveRegular\",\n            color: \"#000\",\n            marginTop: 10,\n            paddingLeft: 0\n          },\n          children: markingStarted ? \"Checking Location Data ..\" : timeConverterforHour(Date.now())\n        }), _jsx(Text, {\n          style: {\n            fontSize: 22,\n            fontFamily: \"UberMoveRegular\",\n            color: \"#000\",\n            marginTop: 2.5,\n            paddingLeft: 0\n          },\n          children: markingStarted ? \"Clocking Timestamp ..\" : timeConverter(Date.now())\n        }), _jsx(MapView, {\n          style: [styles.map, {\n            height: \"60%\",\n            alignItems: \"stretch\",\n            borderRadius: 10,\n            marginTop: 30\n          }],\n          region: {\n            latitude: businessData == null ? void 0 : businessData.latitude,\n            longitude: businessData == null ? void 0 : businessData.longitude,\n            latitudeDelta: 0.0043,\n            longitudeDelta: 0.0034\n          },\n          children: _jsx(Marker, {\n            coordinate: {\n              latitude: businessData == null ? void 0 : businessData.latitude,\n              longitude: businessData == null ? void 0 : businessData.longitude,\n              latitudeDelta: 0.0043,\n              longitudeDelta: 0.0034\n            },\n            title: \"Office\",\n            pinColor: \"red\",\n            draggable: true,\n            style: {\n              width: 200,\n              height: 200\n            }\n          })\n        }), _jsx(View, {\n          style: {\n            position: \"absolute\",\n            bottom: 25,\n            left: \"7.5%\",\n            right: \"7.5%\"\n          },\n          children: markingStarted ? _jsx(ActivityIndicator, {\n            color: \"#000\",\n            size: \"large\",\n            style: {\n              marginBottom: 30\n            }\n          }) : _jsx(SwipeButton, {\n            Icon: _jsx(MaterialIcons, {\n              name: \"keyboard-arrow-right\",\n              size: 50,\n              color: \"#fff\"\n            }),\n            iconContainerStyle: {\n              backgroundColor: \"#000\"\n            },\n            onComplete: function onComplete() {\n              markAttendance(businessData == null ? void 0 : businessData.latitude, businessData == null ? void 0 : businessData.longitude, businessData == null ? void 0 : businessData.uid);\n            },\n            title: \"Swipe to Confirm\",\n            titleContainerStyle: {\n              color: \"#000\"\n            },\n            titleStyle: {\n              color: \"#fff\",\n              fontFamily: \"UberMoveBold\",\n              fontSize: 20\n            },\n            borderRadius: 12,\n            containerGradientProps: {\n              colors: ['#EEE', '#222'],\n              start: [0, 0.5],\n              end: [1, 0.5]\n            },\n            underlayTitle: \"Release\",\n            underlayTitleStyle: {\n              color: \"#FFF\",\n              fontFamily: \"UberMoveBold\",\n              fontSize: 20\n            },\n            underlayStyle: {\n              borderRadius: 12\n            },\n            underlayContainerGradientProps: {\n              colors: ['#fff', '#000'],\n              start: [0, 0.5],\n              end: [1, 0.5]\n            }\n          })\n        })]\n      })\n    }) : showSwipeExit ? _jsx(View, {\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: \"#FFF\",\n        padding: 25,\n        position: \"absolute\",\n        top: \"0%\",\n        left: \"0%\",\n        borderRadius: 20,\n        paddingBottom: 10\n      },\n      children: marked ? _jsxs(_Fragment, {\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 40,\n            fontFamily: \"UberMoveBold\",\n            color: \"#000\",\n            marginTop: 40,\n            paddingLeft: 0\n          },\n          children: \"Done\"\n        }), _jsx(Text, {\n          style: {\n            fontSize: 25,\n            fontFamily: \"UberMoveRegular\",\n            color: \"#000\",\n            marginTop: 10,\n            paddingLeft: 0\n          },\n          children: timeConverterforHour(Date.now())\n        }), _jsx(Text, {\n          style: {\n            fontSize: 25,\n            fontFamily: \"UberMoveRegular\",\n            color: \"#000\",\n            marginTop: 2.5,\n            paddingLeft: 0\n          },\n          children: timeConverter(Date.now())\n        }), _jsx(MapView, {\n          style: [styles.map, {\n            height: \"60%\",\n            alignItems: \"stretch\",\n            borderRadius: 10,\n            marginTop: 30\n          }],\n          region: {\n            latitude: businessData == null ? void 0 : businessData.latitude,\n            longitude: businessData == null ? void 0 : businessData.longitude,\n            latitudeDelta: 0.0043,\n            longitudeDelta: 0.0034\n          },\n          children: _jsx(Marker, {\n            coordinate: {\n              latitude: businessData == null ? void 0 : businessData.latitude,\n              longitude: businessData == null ? void 0 : businessData.longitude,\n              latitudeDelta: 0.0043,\n              longitudeDelta: 0.0034\n            },\n            title: \"Office\",\n            pinColor: \"red\",\n            draggable: true,\n            style: {\n              width: 200,\n              height: 200\n            }\n          })\n        }), _jsx(View, {\n          style: {\n            position: \"absolute\",\n            bottom: 25,\n            left: \"7.5%\",\n            right: \"7.5%\"\n          },\n          children: _jsxs(TouchableOpacity, {\n            onPress: function onPress() {\n              var _props$navigation2;\n              return props == null ? void 0 : (_props$navigation2 = props.navigation) == null ? void 0 : _props$navigation2.navigate(\"ViewProfile\", {\n                profileUID: peopleUID,\n                uid: businessUID,\n                comingFrom: \"ScannerScreen\"\n              });\n            },\n            style: {\n              backgroundColor: \"#000\",\n              paddingHorizontal: 20,\n              borderRadius: 6,\n              padding: 15,\n              width: \"100%\",\n              marginTop: 35,\n              marginBottom: 10,\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\"\n            },\n            children: [_jsx(Text, {\n              style: {\n                color: \"#FFF\",\n                fontSize: 25,\n                fontFamily: \"UberMoveBold\"\n              },\n              children: \"Calendar\"\n            }), _jsx(Octicons, {\n              name: \"chevron-right\",\n              size: 26,\n              color: \"#FFF\",\n              style: {\n                margin: 5\n              }\n            })]\n          })\n        })]\n      }) : _jsxs(_Fragment, {\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 40,\n            fontFamily: \"UberMoveBold\",\n            color: \"#000\",\n            marginTop: 40,\n            paddingLeft: 0\n          },\n          children: markingStarted ? \"Please Wait\" : \"Mark Exit?\"\n        }), _jsx(Text, {\n          style: {\n            fontSize: 22,\n            fontFamily: \"UberMoveRegular\",\n            color: \"#000\",\n            marginTop: 10,\n            paddingLeft: 0\n          },\n          children: markingStarted ? \"Checking Location Data ..\" : timeConverterforHour(Date.now())\n        }), _jsx(Text, {\n          style: {\n            fontSize: 22,\n            fontFamily: \"UberMoveRegular\",\n            color: \"#000\",\n            marginTop: 2.5,\n            paddingLeft: 0\n          },\n          children: markingStarted ? \"Clocking Timestamp ..\" : timeConverter(Date.now())\n        }), _jsx(MapView, {\n          style: [styles.map, {\n            height: \"60%\",\n            alignItems: \"stretch\",\n            borderRadius: 10,\n            marginTop: 30\n          }],\n          region: {\n            latitude: businessData == null ? void 0 : businessData.latitude,\n            longitude: businessData == null ? void 0 : businessData.longitude,\n            latitudeDelta: 0.0043,\n            longitudeDelta: 0.0034\n          },\n          children: _jsx(Marker, {\n            coordinate: {\n              latitude: businessData == null ? void 0 : businessData.latitude,\n              longitude: businessData == null ? void 0 : businessData.longitude,\n              latitudeDelta: 0.0043,\n              longitudeDelta: 0.0034\n            },\n            title: \"Office\",\n            pinColor: \"red\",\n            draggable: true,\n            style: {\n              width: 200,\n              height: 200\n            }\n          })\n        }), _jsx(View, {\n          style: {\n            position: \"absolute\",\n            bottom: 25,\n            left: \"7.5%\",\n            right: \"7.5%\"\n          },\n          children: markingStarted ? _jsx(ActivityIndicator, {\n            color: \"#000\",\n            size: \"large\",\n            style: {\n              marginBottom: 30\n            }\n          }) : _jsx(SwipeButton, {\n            Icon: _jsx(MaterialIcons, {\n              name: \"keyboard-arrow-right\",\n              size: 50,\n              color: \"#fff\"\n            }),\n            iconContainerStyle: {\n              backgroundColor: \"#000\"\n            },\n            onComplete: function onComplete() {\n              markExit(businessData == null ? void 0 : businessData.latitude, businessData == null ? void 0 : businessData.longitude, businessData == null ? void 0 : businessData.uid);\n            },\n            title: \"Swipe to Confirm\",\n            titleContainerStyle: {\n              color: \"#000\"\n            },\n            titleStyle: {\n              color: \"#fff\",\n              fontFamily: \"UberMoveBold\",\n              fontSize: 20\n            },\n            borderRadius: 12,\n            containerGradientProps: {\n              colors: ['#EEE', '#222'],\n              start: [0, 0.5],\n              end: [1, 0.5]\n            },\n            underlayTitle: \"Release\",\n            underlayTitleStyle: {\n              color: \"#FFF\",\n              fontFamily: \"UberMoveBold\",\n              fontSize: 20\n            },\n            underlayStyle: {\n              borderRadius: 12\n            },\n            underlayContainerGradientProps: {\n              colors: ['#fff', '#000'],\n              start: [0, 0.5],\n              end: [1, 0.5]\n            }\n          })\n        })]\n      })\n    }) : (showDistantLottie || showGPSLottie) && _jsxs(View, {\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: \"#FFF\",\n        paddingTop: 30\n      },\n      children: [_jsxs(View, {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"space-between\",\n          alignItems: \"flex-start\",\n          margin: 10,\n          marginBottom: 30\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 29,\n            fontFamily: \"UberMoveBold\",\n            color: \"#000\",\n            marginTop: 10,\n            paddingLeft: 10\n          },\n          children: showGPSLottie ? \"Enable Location Service\" : \"Alert\"\n        }), _jsx(Text, {\n          style: {\n            fontSize: 15,\n            fontFamily: \"UberMoveRegular\",\n            color: \"#000\",\n            marginTop: 20,\n            paddingLeft: 10\n          },\n          children: showGPSLottie ? \"We check for your location to be near the QR code. Hence, location serivce enabled is required.\" : \"Please come in the range of the QR Code GPS Location\"\n        })]\n      }), _jsx(MapView, {\n        style: [styles.map, {\n          height: \"100%\",\n          alignItems: \"stretch\"\n        }],\n        region: {\n          latitude: businessData == null ? void 0 : businessData.latitude,\n          longitude: businessData == null ? void 0 : businessData.longitude,\n          latitudeDelta: 0.0043,\n          longitudeDelta: 0.0034\n        },\n        children: _jsx(Marker, {\n          coordinate: {\n            latitude: businessData == null ? void 0 : businessData.latitude,\n            longitude: businessData == null ? void 0 : businessData.longitude,\n            latitudeDelta: 0.0043,\n            longitudeDelta: 0.0034\n          },\n          title: \"Office\",\n          pinColor: \"red\",\n          draggable: true,\n          style: {\n            width: 200,\n            height: 200\n          }\n        })\n      }), _jsxs(TouchableOpacity, {\n        onPress: function onPress() {\n          if (showGPSLottie) openSettings();else {\n            setShowDistantLottie(false);\n            setScanned(false);\n            setMarkingStarted(false);\n          }\n        },\n        style: {\n          position: \"absolute\",\n          bottom: 10,\n          backgroundColor: \"#000\",\n          padding: 15,\n          color: \"#FFF\",\n          marginLeft: 20,\n          fontSize: 20,\n          width: \"90%\",\n          marginBottom: 15,\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 25,\n            fontFamily: \"UberMoveMedium\",\n            color: \"#FFF\"\n          },\n          children: showGPSLottie ? \"Open Phone Settings\" : \"Try Again\"\n        }), _jsx(Octicons, {\n          name: \"chevron-right\",\n          size: 26,\n          color: \"#FFF\",\n          style: {\n            margin: 5\n          }\n        })]\n      })]\n    }) : hasPermission === false || hasPermission === null ? _jsxs(View, {\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: \"#FFF\",\n        paddingTop: 50\n      },\n      children: [_jsxs(View, {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"space-between\",\n          alignItems: \"flex-start\",\n          margin: 10,\n          marginBottom: 30\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 29,\n            fontFamily: \"UberMoveBold\",\n            color: \"#000\",\n            marginTop: 10,\n            paddingLeft: 10\n          },\n          children: \"Camera Access\"\n        }), _jsx(Text, {\n          style: {\n            fontSize: 15,\n            fontFamily: \"UberMoveRegular\",\n            color: \"#000\",\n            marginTop: 20,\n            paddingLeft: 10\n          },\n          children: \"Inorder to scan the QR code, 1QR need access to your camera. Please enable it in phone settings.\"\n        })]\n      }), _jsx(LottieView, {\n        ref: animationRef,\n        autoPlay: true,\n        loop: true,\n        style: {\n          flex: 1,\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        source: require(\"../assets/camera.json\")\n      }), _jsxs(TouchableOpacity, {\n        onPress: function onPress() {\n          openSettings();\n        },\n        style: {\n          position: \"absolute\",\n          bottom: 10,\n          backgroundColor: \"#000\",\n          padding: 15,\n          color: \"#FFF\",\n          marginLeft: 20,\n          fontSize: 20,\n          width: \"90%\",\n          marginBottom: 15,\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 25,\n            fontFamily: \"UberMoveMedium\",\n            color: \"#FFF\"\n          },\n          children: \"Open Phone Settings\"\n        }), _jsx(Octicons, {\n          name: \"chevron-right\",\n          size: 26,\n          color: \"#FFF\",\n          style: {\n            margin: 5\n          }\n        })]\n      })]\n    }) : _jsxs(View, {\n      style: {\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        width: \"100%\",\n        alignItems: \"flex-start\",\n        margin: 10,\n        position: \"absolute\",\n        bottom: 20\n      },\n      children: [_jsx(Text, {\n        style: {\n          fontSize: 35,\n          fontFamily: \"UberMoveMedium\",\n          color: \"#FFF\",\n          marginLeft: 10\n        },\n        children: \"Scan QR Code\"\n      }), _jsx(View, {\n        style: {\n          marginRight: 40\n        },\n        children: _jsx(View, {\n          style: styles.addButton,\n          children: _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              Alert.alert('Logout?', 'you can login again anytime', [{\n                text: 'Confirm',\n                onPress: function onPress() {\n                  firebase.auth().signOut();\n                  R;\n                }\n              }, {\n                text: \"Cancel\",\n                onPress: function onPress() {\n                  return console.log(\"Cancel Pressed\");\n                },\n                style: \"cancel\"\n              }]);\n            },\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignSelf: \"center\",\n              marginTop: 3\n            },\n            children: _jsx(MaterialIcons, {\n              name: \"qr-code-2\",\n              size: 40,\n              color: \"#FFF\"\n            })\n          })\n        })\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","Text","View","StyleSheet","Button","Alert","ActivityIndicator","TouchableOpacity","Linking","BarCodeScanner","Location","firebase","AntDesign","EvilIcons","MaterialCommunityIcons","MaterialIcons","Octicons","LottieView","App","SwipeButton","LinearGradient","MapView","Marker","AnimatedRegion","Animated","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ScannerScreen","props","_useState","_useState2","_slicedToArray","hasPermission","setHasPermission","_useState3","_useState4","businessData","setBusinessData","_useState5","_useState6","businessUID","setBusinessUID","_useState7","_useState8","peopleUID","setPeopleUID","_useState9","_useState10","scanned","setScanned","_useState11","_useState12","marked","setMarked","_useState13","_useState14","markingStarted","setMarkingStarted","_useState15","_useState16","showSwipe","setShowSwipe","_useState17","_useState18","showCameraLottie","setShowCameraLottie","_useState19","_useState20","showSwipeExit","setShowSwipeExit","_useState21","_useState22","showDistantLottie","setShowDistantLottie","_useState23","_useState24","showGPSLottie","setShowGPSLottie","_useState25","_useState26","tryAgain","setTryAgain","animationRef","useRef","_React$useState","_React$useState2","wrongQRCode","setWrongQRCode","_React$useState3","_React$useState4","currentLatitude","setCurrentLatitude","_React$useState5","_React$useState6","currentLongitude","setCurrentLongitude","_animationRef$current","current","play","console","log","getBarCodeScannerPermissions","_ref","_asyncToGenerator","_yield$BarCodeScanner","requestPermissionsAsync","status","apply","arguments","calculateDistance","lat1","lon1","lat2","lon2","earthRadius","lat1InRadians","toRadians","lon1InRadians","lat2InRadians","lon2InRadians","diffLat","diffLon","a","Math","pow","sin","cos","c","atan2","sqrt","distance","degrees","PI","timeConverterforHour","UNIX_timestamp","Date","months","year","getFullYear","month","getMonth","date","getDate","toString","padStart","hour","getHours","min","getMinutes","dateData","timeConverter","removelast3numbers","markAttendance","_ref2","bLatitude","bLongitude","bUID","_yield$Location$reque","requestForegroundPermissionsAsync","setErrorMsg","allowed","location","getCurrentPositionAsync","coords","_location$coords","_location$coords2","latitude","longitude","_props$route","_props$route$params","firestore","collection","doc","where","route","params","phoneNumber","get","then","querySnapshot","forEach","documentSnapshot","id","add","in","now","res","update","_props$route2","_props$route2$params","uid","_x","_x2","_x3","markExit","_ref3","_yield$Location$reque2","_location$coords3","_location$coords4","_props$route3","_props$route3$params","out","_props$route4","_props$route4$params","_x4","_x5","_x6","handleBarCodeScanned","_ref4","_props$route5","_props$route5$params","type","data","split","onSnapshot","_doc$data","active_session","openSettings","Platform","OS","openURL","style","styles","container","children","onBarCodeScanned","undefined","absoluteFillObject","backgroundColor","height","width","padding","position","top","margin","borderRadius","paddingBottom","fontSize","fontFamily","color","marginTop","paddingLeft","map","alignItems","region","latitudeDelta","longitudeDelta","coordinate","title","pinColor","draggable","bottom","left","right","onPress","_props$navigation","navigation","navigate","profileUID","comingFrom","paddingHorizontal","marginBottom","flexDirection","justifyContent","name","size","Icon","iconContainerStyle","onComplete","titleContainerStyle","titleStyle","containerGradientProps","colors","start","end","underlayTitle","underlayTitleStyle","underlayStyle","underlayContainerGradientProps","_props$navigation2","paddingTop","display","marginLeft","ref","autoPlay","loop","flex","source","require","marginRight","addButton","alert","text","auth","signOut","R","alignSelf","create"],"sources":["/Users/shubh/Documents/attendance_app/screens/ScannerScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Text, View, StyleSheet, Button, Alert, ActivityIndicator, TouchableOpacity, Linking } from 'react-native';\nimport { BarCodeScanner } from 'expo-barcode-scanner';\nimport * as Location from 'expo-location';\nimport firebase from '../firebaseConfig';\nimport { AntDesign, EvilIcons, MaterialCommunityIcons,MaterialIcons,Octicons } from '@expo/vector-icons';\nimport LottieView from 'lottie-react-native';\nimport App from '../App';\nimport { SwipeButton } from 'react-native-expo-swipe-button';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport MapView, { Marker,AnimatedRegion, Animated } from 'react-native-maps';\n\n\nexport default function ScannerScreen(props) {\n\n\n  const [hasPermission, setHasPermission] = useState(null);\n  const [businessData,setBusinessData] =useState({})\n  const [businessUID, setBusinessUID] = useState(\"\");\n  const [peopleUID, setPeopleUID] = useState(\"\");\n  const [scanned, setScanned] = useState(false);\n  const [marked, setMarked] = useState(false);\n  const [markingStarted, setMarkingStarted] = useState(false);\n  const [showSwipe, setShowSwipe] = useState(false);\n  const [showCameraLottie, setShowCameraLottie] = useState(false);\n  const [showSwipeExit, setShowSwipeExit] = useState(false);\n  const [showDistantLottie, setShowDistantLottie] = useState(false);\n  const [showGPSLottie, setShowGPSLottie] = useState(false);\n  const [tryAgain, setTryAgain] = useState(false);\n  const animationRef = React.useRef();\n  const [wrongQRCode, setWrongQRCode] = React.useState(false);\n  const [currentLatitude, setCurrentLatitude] = React.useState(\"\");\n  const [currentLongitude, setCurrentLongitude] = React.useState(\"\");\n\n\n\n  useEffect( () => {\n    animationRef.current?.play()\n\n  }, [])\n\n\n  useEffect(() => {\n\n    console.log(\"Camera testing started\")\n    getBarCodeScannerPermissions();\n\n  }, []);\n\n  const getBarCodeScannerPermissions = async () => {\n    const { status } = await BarCodeScanner.requestPermissionsAsync();\n    setHasPermission(status === 'granted');\n  };\n\n\n  console.log(\"hasPermission ====> \",hasPermission)\n\n\n\n  function calculateDistance(lat1, lon1, lat2, lon2) {\n    console.log(\"Calculation started\")\n    // Earth's radius in meters\n    const earthRadius = 6371000;\n  \n    // Convert latitude and longitude to radians\n    const lat1InRadians = toRadians(lat1);\n    const lon1InRadians = toRadians(lon1);\n    const lat2InRadians = toRadians(lat2);\n    const lon2InRadians = toRadians(lon2);\n  \n    // Calculate the differences between coordinates\n    const diffLat = lat2InRadians - lat1InRadians;\n    const diffLon = lon2InRadians - lon1InRadians;\n  \n    // Apply Haversine formula to calculate the distance\n    const a =\n      Math.sin(diffLat / 2) ** 2 +\n      Math.cos(lat1InRadians) * Math.cos(lat2InRadians) * Math.sin(diffLon / 2) ** 2;\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  \n    // Calculate the distance in meters\n    const distance = earthRadius * c;\n    console.log(\"done distance => \",distance)\n\n    return distance;\n  }\n  \n  function toRadians(degrees) {\n    return degrees * (Math.PI / 180);\n  }\n\n  function timeConverterforHour(UNIX_timestamp){\n\n    \n    var a = UNIX_timestamp\n    a = (a-(a%1000))/1000\n    a = new Date(a*1000)\n\n    var months = ['01','02','03','04','05','06','07','08','09','10','11','12'];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate().toString().padStart(2, '0');\n    var hour = a.getHours();\n    var min = a.getMinutes();\n\n    var dateData = (hour + ':' + min).toString()\n    return dateData\n  }\n\n  function timeConverter(UNIX_timestamp){\n\n    \n    var a = UNIX_timestamp\n    a = (a-(a%1000))/1000\n    a = new Date(a*1000)\n\n    var months = ['01','02','03','04','05','06','07','08','09','10','11','12'];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate().toString().padStart(2, '0');\n    var hour = a.getHours();\n    var min = a.getMinutes();\n\n    var dateData = (year + '-' + month + '-' + date).toString()\n    return dateData\n  }\n\n  function removelast3numbers(UNIX_timestamp){\n  console.log(\"Date\" ,UNIX_timestamp)\n      var a = UNIX_timestamp\n      a = (a-(a%1000))/1000\n    return a\n  }\n\n\n  const markAttendance = async(bLatitude, bLongitude,bUID)=>{\n\n\n    setMarkingStarted(true)\n\n    let { status } = await Location.requestForegroundPermissionsAsync();\n    if (status !== 'granted') {\n      setErrorMsg('Permission to access location was denied');\n      setShowGPSLottie(true)\n      return;\n    }\n\n    let allowed = true\n    \n\n    let location = await Location.getCurrentPositionAsync({});\n    if(location?.coords){\n\n            if (calculateDistance(location?.coords?.latitude, location?.coords?.longitude, bLatitude, bLongitude) < 100){\n         \n                  \n                  firebase.firestore().collection(\"att_users\").doc(bUID ).collection(\"people\").where(\"phonenumber\",\"==\",props?.route?.params?.phoneNumber).get().then((querySnapshot=>{\n                                    \n                    querySnapshot.forEach((documentSnapshot) => {\n\n                      setPeopleUID(documentSnapshot?.id)\n                      firebase.firestore().collection(\"att_users\").doc(bUID ).collection(\"people\").doc(documentSnapshot?.id)\n                                      .collection(\"attendance\").add({in: removelast3numbers(Date.now()), date: timeConverter(Date.now()) })\n                                      .then((res)=>{ firebase.firestore().collection(\"att_users\").doc(bUID ).collection(\"people\").doc(documentSnapshot.id).update({\"active_session_id\" : res?.id}) })\n                                      .then((res)=>{ firebase.firestore().collection(\"att_users\").doc(props?.route?.params?.uid ).update({\"active_session\" : true}) })\n                                      .then(()=>  setMarked(\"entry\")  )  \n                    \n                    \n\n\n                    // firebase.firestore().collection('att_users').doc(bUID).collection(\"people\").doc(documentSnapshot?.id).collection(\"attendance\").where(\"date\",\"==\",timeConverter(Date.now())).get().then(querySnapshot=>{\n                    //     querySnapshot.forEach(documentSnapshot=>{\n\n                    //       console.log(\"FOUND SAME DATA\")\n                    //       allowed = false \n                    //       setScanned(false)\n                    //       setMarkingStarted(false)\n                    //       setShowSwipe(false)\n\n                    //       Alert.alert('Not Allowed', 'Multiple attendance for the same date is not allowed', [\n                    //         {\n                    //           text: \"Cancel\",\n                    //           onPress: () => console.log(\"Cancel Pressed\"),\n                    //           style: \"cancel\"\n                    //         },\n                    //       ])\n\n                    //     })\n                        \n                    //   }).then(()=>{\n                    //     allowed &&  firebase.firestore().collection(\"att_users\").doc(bUID ).collection(\"people\").doc(documentSnapshot.id)\n                    //                   .collection(\"attendance\").add({in: removelast3numbers(Date.now()), date: timeConverter(Date.now()) })\n                    //                   .then((res)=>{ firebase.firestore().collection(\"att_users\").doc(bUID ).collection(\"people\").doc(documentSnapshot.id).update({\"active_session_id\" : res?.id}) })\n                    //                   .then((res)=>{ firebase.firestore().collection(\"att_users\").doc(props?.route?.params?.uid ).update({\"active_session\" : true}) })\n                    //                   .then(()=>  setMarked(\"entry\")  )  \n                                                    \n                    //   })\n  \n\n                    }) }))\n\n              }\n\n            else{\n\n              console.log(\"DATA ==> \", showDistantLottie, scanned,markingStarted,showSwipe )\n\n                setShowDistantLottie(true)\n                setMarkingStarted(false)\n                setShowSwipe(false)\n\n                console.log(\"AFTER ==> \", showDistantLottie, scanned,markingStarted,showSwipe )\n\n\n              }\n        }\n        else{\n          setShowGPSLottie(true)\n\n        }\n\n          \n  }\n\n\n  const markExit = async(bLatitude, bLongitude,bUID)=>{\n\n\n    setMarkingStarted(true)\n\n    let { status } = await Location.requestForegroundPermissionsAsync();\n    if (status !== 'granted') {\n      setErrorMsg('Permission to access location was denied');\n      setShowGPSLottie(true)\n      return;\n    }\n\n  \n    let location = await Location.getCurrentPositionAsync({});\n    if(location?.coords){\n\n            if (calculateDistance(location?.coords?.latitude, location?.coords?.longitude, bLatitude, bLongitude) < 100){\n\n                  \n                  firebase.firestore().collection(\"att_users\").doc(bUID ).collection(\"people\").where(\"phonenumber\",\"==\",props?.route?.params?.phoneNumber).get().then((querySnapshot=>{\n                                    \n                    querySnapshot.forEach((doc) => {\n\n                      setPeopleUID(doc?.id)\n\n                      firebase.firestore().collection('att_users').doc(bUID).collection(\"people\").doc(doc?.id).collection(\"attendance\").where(\"date\",\"==\",timeConverter(Date.now())).get().then(querySnapshot=>{\n                        querySnapshot.forEach(documentSnapshot=>{\n\n                          console.log(doc?.id,documentSnapshot?.id)\n\n                          firebase.firestore().collection(\"att_users\").doc(bUID ).collection(\"people\").doc(doc?.id)\n                                        .collection(\"attendance\").doc(documentSnapshot?.id).update({out: removelast3numbers(Date.now()) })\n                                        .then((res)=>firebase.firestore().collection(\"att_users\").doc(bUID).collection(\"people\").doc(doc?.id).update({\"active_session_id\" : \"\"}))\n                                        .then((res)=>{ firebase.firestore().collection(\"att_users\").doc(props?.route?.params?.uid ).update({\"active_session\" : false}) })\n                                        .then(()=>  setMarked(\"exit\")  ) \n                        \n                        })\n                        \n                      })\n  \n\n                    }) }))\n\n              }\n\n            else{\n\n                setShowDistantLottie(true)\n                setMarkingStarted(false)\n                setShowSwipeExit(false)\n              }\n        }\n      else setShowGPSLottie(true)\n\n          \n  }\n\n\n  const handleBarCodeScanned = ({ type, data }) => {\n\n    console.log(\"QR code scanned\")\n\n    setScanned(true);\n    setBusinessUID(data?.split(\"attendance\")[1])\n\n    firebase.firestore().collection(\"att_users\").doc(props?.route?.params?.uid).onSnapshot(doc=>{\n      doc?.data()?.active_session ? setShowSwipeExit(true) : setShowSwipe(true)\n    })\n\n    firebase.firestore().collection(\"att_users\").doc(data?.split(\"attendance\")[1]).onSnapshot(doc=>{\n      setBusinessData(doc?.data())\n      // markAttendance(doc?.data()?.latitude, doc?.data()?.longitude,data?.split(\"attendance\")[1])\n      })\n\n  };\n\n  const openSettings = () => {\n\n    console.log(\"OPEN\")\n\n    if (Platform.OS === 'ios') {\n      Linking.openURL('app-settings:');\n    } else {\n      Linking.openSettings();\n    }\n    \n  };\n\n\n\n\n  return (\n    <View style={styles.container}>\n\n      <BarCodeScanner\n        onBarCodeScanned={scanned ? undefined : handleBarCodeScanned}\n        style={[StyleSheet.absoluteFillObject,{backgroundColor:\"black\",height:\"100%\"}]}\n      />\n\n        {scanned \n\n            ?showSwipe \n                            ?<View style={{width:\"100%\",height:\"100%\",backgroundColor:\"#FFF\",padding:25,position:\"absolute\",top:\"0%\",margin:\"0%\",borderRadius:20,paddingBottom:10}}>\n\n                                { marked\n\n                                    ?<>\n                                        <Text style={{fontSize:40,fontFamily:\"UberMoveBold\",color:\"#000\",marginTop:40,paddingLeft:0}}>Done</Text>\n                                        <Text style={{fontSize:25,fontFamily:\"UberMoveRegular\",color:\"#000\",marginTop:10,paddingLeft:0}}>{ timeConverterforHour(Date.now())  }</Text>\n                                        <Text style={{fontSize:25,fontFamily:\"UberMoveRegular\",color:\"#000\",marginTop:2.5,paddingLeft:0}}>{ timeConverter(Date.now())}</Text>\n                        \n                                        <MapView\n                                                style={[styles.map,{height:\"60%\",alignItems:\"stretch\",borderRadius:10,marginTop:30}]}\n                                                region={{latitude : businessData?.latitude, longitude : businessData?.longitude,latitudeDelta: 0.0043, longitudeDelta: 0.0034}}>\n                                                \n                                                <Marker coordinate={{latitude : businessData?.latitude, longitude : businessData?.longitude,latitudeDelta: 0.0043,longitudeDelta: 0.0034}} \n                                                title='Office' pinColor='red' draggable style={{width:200,height:200}} >\n                                                </Marker>\n\n                                                \n\n                                  \n\n                                              </MapView>\n                                                      \n                                                      <View style={{position:\"absolute\",bottom:25,left:\"7.5%\",right:\"7.5%\"}}>\n\n\n\n                                                \n                                            <TouchableOpacity onPress={()=>props?.navigation?.navigate(\"ViewProfile\",{profileUID : peopleUID,uid:businessUID, comingFrom : \"ScannerScreen\"}) } \n                                                  style={{backgroundColor:\"#000\",paddingHorizontal:20,borderRadius:6,padding:15, width:\"100%\",marginTop:35,marginBottom:10,flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",}}>\n                                                          <Text style={{color:\"#FFF\",fontSize:25,fontFamily:\"UberMoveBold\"}}>Calendar</Text>\n                                                          <Octicons name=\"chevron-right\" size={26} color=\"#FFF\" style={{margin:5}} />\n                                                    </TouchableOpacity>\n                                                          \n                                    </View>\n                                      </>\n\n                                    :<>\n                                    \n                                              <Text style={{fontSize:40,fontFamily:\"UberMoveBold\",color:\"#000\",marginTop:40,paddingLeft:0}}>{markingStarted ? \"Please Wait\" :\"Mark Entry?\"}</Text>\n                                              <Text style={{fontSize:22,fontFamily:\"UberMoveRegular\",color:\"#000\",marginTop:10,paddingLeft:0}}>{markingStarted ? \"Checking Location Data ..\" : timeConverterforHour(Date.now()) }</Text>\n                                              <Text style={{fontSize:22,fontFamily:\"UberMoveRegular\",color:\"#000\",marginTop:2.5,paddingLeft:0}}>{markingStarted ? \"Clocking Timestamp ..\" : timeConverter(Date.now())  }</Text>\n                                              \n                                              <MapView\n                                                style={[styles.map,{height:\"60%\",alignItems:\"stretch\",borderRadius:10,marginTop:30}]}\n                                                region={{latitude : businessData?.latitude, longitude : businessData?.longitude,latitudeDelta: 0.0043, longitudeDelta: 0.0034}}>\n                                                \n                                                <Marker coordinate={{latitude : businessData?.latitude, longitude : businessData?.longitude,latitudeDelta: 0.0043,longitudeDelta: 0.0034}} \n                                                title='Office' pinColor='red' draggable style={{width:200,height:200}} >\n                                                </Marker>\n\n                                                \n\n                                  \n\n                                              </MapView>\n                                                      \n                                                      <View style={{position:\"absolute\",bottom:25,left:\"7.5%\",right:\"7.5%\"}}>\n\n\n                                                  { markingStarted \n                                                        ?<ActivityIndicator color={"#000"} color={\"#000\"} size={\"large\"} style={{marginBottom:30}}></ActivityIndicator>\n                                            \n                                                        :<SwipeButton\n                                                              Icon={\n                                                                <MaterialIcons name=\"keyboard-arrow-right\" size={50} color=\"#fff\" />\n                                                              }\n                                                              iconContainerStyle={{backgroundColor:\"#000\",}}\n                                                              onComplete={() => {\n                                                                markAttendance(businessData?.latitude, businessData?.longitude, businessData?.uid)\n                                                              }}\n                                                              title=\"Swipe to Confirm\"\n                                                              titleContainerStyle={{color:\"#000\"}}\n                                                              titleStyle={{color:\"#fff\",fontFamily:\"UberMoveBold\",fontSize:20}}\n                                                              borderRadius={12}\n                                                              containerGradientProps={{\n                                                                colors: ['#EEE', '#222'],\n                                                                start: [0, 0.5],\n                                                                end: [1, 0.5],\n                                                              }}\n                                                              underlayTitle=\"Release\"\n                                                              underlayTitleStyle={{color:\"#FFF\",fontFamily:\"UberMoveBold\",fontSize:20}}\n                                                      \n                                                              underlayStyle={{\n                                                                borderRadius: 12,\n                                                              }}\n                                                              underlayContainerGradientProps={{\n                                                                colors: ['#fff', '#000'],\n                                                                start: [0, 0.5],\n                                                                end: [1, 0.5],\n                                                              }}\n                                                            />\n                                                            \n                                                    }\n                                              \n                                              \n                                              </View>\n                \n                                    </>\n\n                                }\n              \n                              </View>\n\n                            :showSwipeExit \n\n                                ?<View style={{width:\"100%\",height:\"100%\",backgroundColor:\"#FFF\",padding:25,position:\"absolute\",top:\"0%\",left:\"0%\",borderRadius:20,paddingBottom:10}}>\n\n                                          { marked\n\n                                                    ?<>\n                                                        <Text style={{fontSize:40,fontFamily:\"UberMoveBold\",color:\"#000\",marginTop:40,paddingLeft:0}}>Done</Text>\n                                                        <Text style={{fontSize:25,fontFamily:\"UberMoveRegular\",color:\"#000\",marginTop:10,paddingLeft:0}}>{ timeConverterforHour(Date.now())}</Text>\n                                                        <Text style={{fontSize:25,fontFamily:\"UberMoveRegular\",color:\"#000\",marginTop:2.5,paddingLeft:0}}>{ timeConverter(Date.now())}</Text>\n                                                        <MapView\n                                                style={[styles.map,{height:\"60%\",alignItems:\"stretch\",borderRadius:10,marginTop:30}]}\n                                                region={{latitude : businessData?.latitude, longitude : businessData?.longitude,latitudeDelta: 0.0043, longitudeDelta: 0.0034}}>\n                                                \n                                                <Marker coordinate={{latitude : businessData?.latitude, longitude : businessData?.longitude,latitudeDelta: 0.0043,longitudeDelta: 0.0034}} \n                                                title='Office' pinColor='red' draggable style={{width:200,height:200}} >\n                                                </Marker>\n\n                                                \n\n                                  \n\n                                              </MapView>\n                                                      \n                                                      <View style={{position:\"absolute\",bottom:25,left:\"7.5%\",right:\"7.5%\"}}>\n\n\n                                                            <TouchableOpacity onPress={()=>props?.navigation?.navigate(\"ViewProfile\",{profileUID : peopleUID,uid:businessUID, comingFrom : \"ScannerScreen\"}) } \n                                                                  style={{backgroundColor:\"#000\",paddingHorizontal:20,borderRadius:6,padding:15, width:\"100%\",marginTop:35,marginBottom:10,flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",}}>\n                                                                          <Text style={{color:\"#FFF\",fontSize:25,fontFamily:\"UberMoveBold\"}}>Calendar</Text>\n                                                                          <Octicons name=\"chevron-right\" size={26} color=\"#FFF\" style={{margin:5}} />\n                                                                    </TouchableOpacity>\n                                                                          \n                                                    </View>\n                                                      </>\n\n                                                    :<>\n                        \n                        \n                                                    \n                                                      <Text style={{fontSize:40,fontFamily:\"UberMoveBold\",color:\"#000\",marginTop:40,paddingLeft:0}}>{markingStarted ? \"Please Wait\" :\"Mark Exit?\"}</Text>\n                                                      <Text style={{fontSize:22,fontFamily:\"UberMoveRegular\",color:\"#000\",marginTop:10,paddingLeft:0}}>{markingStarted ? \"Checking Location Data ..\" : timeConverterforHour(Date.now()) }</Text>\n                                                      <Text style={{fontSize:22,fontFamily:\"UberMoveRegular\",color:\"#000\",marginTop:2.5,paddingLeft:0}}>{markingStarted ? \"Clocking Timestamp ..\" : timeConverter(Date.now())  }</Text>\n                                                      \n                                                      <MapView\n                                                style={[styles.map,{height:\"60%\",alignItems:\"stretch\",borderRadius:10,marginTop:30}]}\n                                                region={{latitude : businessData?.latitude, longitude : businessData?.longitude,latitudeDelta: 0.0043, longitudeDelta: 0.0034}}>\n                                                \n                                                <Marker coordinate={{latitude : businessData?.latitude, longitude : businessData?.longitude,latitudeDelta: 0.0043,longitudeDelta: 0.0034}} \n                                                title='Office' pinColor='red' draggable style={{width:200,height:200}} >\n                                                </Marker>\n\n                                                \n\n                                  \n\n                                              </MapView>\n                                                      \n                                                      <View style={{position:\"absolute\",bottom:25,left:\"7.5%\",right:\"7.5%\"}}>\n\n                                                      { markingStarted \n                                                            ?<ActivityIndicator color={"#000"} color={\"#000\"} size={\"large\"} style={{marginBottom:30}}></ActivityIndicator>\n\n                                                            : <SwipeButton\n                                                                Icon={\n                                                                  <MaterialIcons name=\"keyboard-arrow-right\" size={50} color=\"#fff\" />\n                                                                }\n                                                                iconContainerStyle={{backgroundColor:\"#000\",}}\n                                                                onComplete={() => {\n                                                                  markExit(businessData?.latitude, businessData?.longitude, businessData?.uid)\n                                                                }}\n                                                                title=\"Swipe to Confirm\"\n                                                                titleContainerStyle={{color:\"#000\"}}\n                                                                titleStyle={{color:\"#fff\",fontFamily:\"UberMoveBold\",fontSize:20}}\n                                                                borderRadius={12}\n                                                                containerGradientProps={{\n                                                                  colors: ['#EEE', '#222'],\n                                                                  start: [0, 0.5],\n                                                                  end: [1, 0.5],\n                                                                }}\n                                                                underlayTitle=\"Release\"\n                                                                underlayTitleStyle={{color:\"#FFF\",fontFamily:\"UberMoveBold\",fontSize:20}}\n                                                        \n                                                                underlayStyle={{\n                                                                  borderRadius: 12,\n                                                                }}\n                                                                underlayContainerGradientProps={{\n                                                                  colors: ['#fff', '#000'],\n                                                                  start: [0, 0.5],\n                                                                  end: [1, 0.5],\n                                                                }}\n                                                              />\n                                                        }\n                                                      \n                                                      </View>\n                                    \n                                                    </>\n                                          }\n                                        </View>\n                                \n                                : (showDistantLottie || showGPSLottie) &&  <View style={{width:\"100%\",height:\"100%\",backgroundColor:\"#FFF\",paddingTop:30}}>\n                                \n    \n                                <View style={{display:\"flex\",flexDirection:\"column\",justifyContent:\"space-between\",alignItems:\"flex-start\",margin:10,marginBottom:30}}>\n    \n    <Text style={{fontSize:29,fontFamily:\"UberMoveBold\",color:\"#000\",marginTop:10,paddingLeft:10}}>{showGPSLottie ? \"Enable Location Service\" : \"Alert\"}</Text>\n    <Text style={{fontSize:15,fontFamily:\"UberMoveRegular\",color:\"#000\",marginTop:20,paddingLeft:10}}>{showGPSLottie ? \"We check for your location to be near the QR code. Hence, location serivce enabled is required.\" : \"Please come in the range of the QR Code GPS Location\" }</Text>\n\n\n    </View>\n                                  <MapView\n                                                style={[styles.map,{height:\"100%\",alignItems:\"stretch\"}]}\n                                                region={{latitude : businessData?.latitude, longitude : businessData?.longitude,latitudeDelta: 0.0043, longitudeDelta: 0.0034}}>\n                                                \n                                                <Marker coordinate={{latitude : businessData?.latitude, longitude : businessData?.longitude,latitudeDelta: 0.0043,longitudeDelta: 0.0034}} \n                                                title='Office' pinColor='red' draggable style={{width:200,height:200}} >\n                                                </Marker>\n\n                                                \n\n                                  \n\n                                              </MapView>\n\n                                              <TouchableOpacity \n                                        onPress={()=> {\n                                          \n                                          if(showGPSLottie) openSettings()\n                                          else{ \n                                                setShowDistantLottie(false)\n                                                setScanned(false) \n                                                setMarkingStarted(false)\n                                                \n                                              \n                                              }\n                                        \n                                        } } \n                                        style={{position:\"absolute\",bottom:10,backgroundColor:\"#000\",padding:15,color:\"#FFF\",marginLeft:20,fontSize:20,width:\"90%\",marginBottom:15,flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",}}>\n                                        <Text style={{fontSize:25,fontFamily:\"UberMoveMedium\",color:\"#FFF\",}}>{\n                                            showGPSLottie ? \"Open Phone Settings\" : \"Try Again\"}</Text>\n                                        <Octicons name=\"chevron-right\" size={26} color=\"#FFF\" style={{margin:5}} />\n                                        </TouchableOpacity>\n    \n                                  \n    \n                                  \n    \n    \n    \n                                    </View>\n                        \n              : hasPermission === false || hasPermission === null\n                ? <View style={{width:\"100%\",height:\"100%\",backgroundColor:\"#FFF\",paddingTop:50}}>\n                                \n                <View style={{display:\"flex\",flexDirection:\"column\",justifyContent:\"space-between\",alignItems:\"flex-start\",margin:10,marginBottom:30}}>\n  \n  <Text style={{fontSize:29,fontFamily:\"UberMoveBold\",color:\"#000\",marginTop:10,paddingLeft:10}}>Camera Access</Text>\n  <Text style={{fontSize:15,fontFamily:\"UberMoveRegular\",color:\"#000\",marginTop:20,paddingLeft:10}}>Inorder to scan the QR code, 1QR need access to your camera. Please enable it in phone settings.</Text>\n  \n  \n  </View>\n  \n  <LottieView\n                                  ref={animationRef}\n                                  autoPlay\n                                  loop={true}\n                                  style={{flex:1,justifyContent:\"center\",alignItems:\"center\"}}\n                                  source={require(\"../assets/camera.json\")}\n                                />\n                  \n  \n                              <TouchableOpacity \n                        onPress={()=> {\n                          \n                           openSettings()\n                          \n                        \n                        } } \n                        style={{position:\"absolute\",bottom:10,backgroundColor:\"#000\",padding:15,color:\"#FFF\",marginLeft:20,fontSize:20,width:\"90%\",marginBottom:15,flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",}}>\n                        <Text style={{fontSize:25,fontFamily:\"UberMoveMedium\",color:\"#FFF\",}}>{\n                            \"Open Phone Settings\"}</Text>\n                        <Octicons name=\"chevron-right\" size={26} color=\"#FFF\" style={{margin:5}} />\n                        </TouchableOpacity>\n  \n                  \n  \n                  \n  \n  \n  \n                    </View>\n                :<View style={{flexDirection:\"row\",justifyContent:\"space-between\",width:\"100%\",alignItems:\"flex-start\",margin:10,position:\"absolute\",bottom:20}}>\n\n                <Text style={{fontSize:35,fontFamily:\"UberMoveMedium\",color:\"#FFF\",marginLeft:10}}>Scan QR Code</Text>\n\n                <View style={{marginRight:40}}  ><View style={styles.addButton} >\n                      <TouchableOpacity\n                      \n                      onPress={()=>{\n                        Alert.alert('Logout?', 'you can login again anytime', [\n                          {\n                            text: 'Confirm',\n                            onPress: () => {\n                              firebase.auth().signOut()\nR                            },\n                          },{\n                            text: \"Cancel\",\n                            onPress: () => console.log(\"Cancel Pressed\"),\n                            style: \"cancel\"\n                          },\n                        ])\n                      }}\n                      \n                      \n                      style={{display:\"flex\",justifyContent:\"center\",alignSelf:\"center\",marginTop:3}}>\n                        <MaterialIcons name=\"qr-code-2\" size={40} color={ \"#FFF\"} />\n                      </TouchableOpacity>\n                  </View>\n\n                  </View>\n\n\n</View>\n\n                  \n        }\n\n            \n\n\n\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n});\n\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,MAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,iBAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,OAAA;AAEnD,SAASC,cAAc,QAAQ,sBAAsB;AACrD,OAAO,KAAKC,QAAQ,MAAM,eAAe;AACzC,OAAOC,QAAQ;AACf,SAASC,SAAS,EAAEC,SAAS,EAAEC,sBAAsB,EAACC,aAAa,EAACC,QAAQ,QAAQ,oBAAoB;AACxG,OAAOC,UAAU,MAAM,qBAAqB;AAC5C,OAAOC,GAAG;AACV,SAASC,WAAW,QAAQ,gCAAgC;AAC5D,SAASC,cAAc,QAAQ,sBAAsB;AACrD,OAAOC,OAAO,IAAIC,MAAM,EAACC,cAAc,EAAEC,QAAQ,QAAQ,mBAAmB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAG7E,eAAe,SAASC,aAAaA,CAACC,KAAK,EAAE;EAG3C,IAAAC,SAAA,GAA0ClC,QAAQ,CAAC,IAAI,CAAC;IAAAmC,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAjDG,aAAa,GAAAF,UAAA;IAAEG,gBAAgB,GAAAH,UAAA;EACtC,IAAAI,UAAA,GAAsCvC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAAwC,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA3CE,YAAY,GAAAD,UAAA;IAACE,eAAe,GAAAF,UAAA;EACnC,IAAAG,UAAA,GAAsC3C,QAAQ,CAAC,EAAE,CAAC;IAAA4C,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAA3CE,WAAW,GAAAD,UAAA;IAAEE,cAAc,GAAAF,UAAA;EAClC,IAAAG,UAAA,GAAkC/C,QAAQ,CAAC,EAAE,CAAC;IAAAgD,UAAA,GAAAZ,cAAA,CAAAW,UAAA;IAAvCE,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAC9B,IAAAG,UAAA,GAA8BnD,QAAQ,CAAC,KAAK,CAAC;IAAAoD,WAAA,GAAAhB,cAAA,CAAAe,UAAA;IAAtCE,OAAO,GAAAD,WAAA;IAAEE,UAAU,GAAAF,WAAA;EAC1B,IAAAG,WAAA,GAA4BvD,QAAQ,CAAC,KAAK,CAAC;IAAAwD,WAAA,GAAApB,cAAA,CAAAmB,WAAA;IAApCE,MAAM,GAAAD,WAAA;IAAEE,SAAS,GAAAF,WAAA;EACxB,IAAAG,WAAA,GAA4C3D,QAAQ,CAAC,KAAK,CAAC;IAAA4D,WAAA,GAAAxB,cAAA,CAAAuB,WAAA;IAApDE,cAAc,GAAAD,WAAA;IAAEE,iBAAiB,GAAAF,WAAA;EACxC,IAAAG,WAAA,GAAkC/D,QAAQ,CAAC,KAAK,CAAC;IAAAgE,WAAA,GAAA5B,cAAA,CAAA2B,WAAA;IAA1CE,SAAS,GAAAD,WAAA;IAAEE,YAAY,GAAAF,WAAA;EAC9B,IAAAG,WAAA,GAAgDnE,QAAQ,CAAC,KAAK,CAAC;IAAAoE,WAAA,GAAAhC,cAAA,CAAA+B,WAAA;IAAxDE,gBAAgB,GAAAD,WAAA;IAAEE,mBAAmB,GAAAF,WAAA;EAC5C,IAAAG,WAAA,GAA0CvE,QAAQ,CAAC,KAAK,CAAC;IAAAwE,WAAA,GAAApC,cAAA,CAAAmC,WAAA;IAAlDE,aAAa,GAAAD,WAAA;IAAEE,gBAAgB,GAAAF,WAAA;EACtC,IAAAG,WAAA,GAAkD3E,QAAQ,CAAC,KAAK,CAAC;IAAA4E,WAAA,GAAAxC,cAAA,CAAAuC,WAAA;IAA1DE,iBAAiB,GAAAD,WAAA;IAAEE,oBAAoB,GAAAF,WAAA;EAC9C,IAAAG,WAAA,GAA0C/E,QAAQ,CAAC,KAAK,CAAC;IAAAgF,WAAA,GAAA5C,cAAA,CAAA2C,WAAA;IAAlDE,aAAa,GAAAD,WAAA;IAAEE,gBAAgB,GAAAF,WAAA;EACtC,IAAAG,WAAA,GAAgCnF,QAAQ,CAAC,KAAK,CAAC;IAAAoF,WAAA,GAAAhD,cAAA,CAAA+C,WAAA;IAAxCE,QAAQ,GAAAD,WAAA;IAAEE,WAAW,GAAAF,WAAA;EAC5B,IAAMG,YAAY,GAAGxF,KAAK,CAACyF,MAAM,CAAC,CAAC;EACnC,IAAAC,eAAA,GAAsC1F,KAAK,CAACC,QAAQ,CAAC,KAAK,CAAC;IAAA0F,gBAAA,GAAAtD,cAAA,CAAAqD,eAAA;IAApDE,WAAW,GAAAD,gBAAA;IAAEE,cAAc,GAAAF,gBAAA;EAClC,IAAAG,gBAAA,GAA8C9F,KAAK,CAACC,QAAQ,CAAC,EAAE,CAAC;IAAA8F,gBAAA,GAAA1D,cAAA,CAAAyD,gBAAA;IAAzDE,eAAe,GAAAD,gBAAA;IAAEE,kBAAkB,GAAAF,gBAAA;EAC1C,IAAAG,gBAAA,GAAgDlG,KAAK,CAACC,QAAQ,CAAC,EAAE,CAAC;IAAAkG,gBAAA,GAAA9D,cAAA,CAAA6D,gBAAA;IAA3DE,gBAAgB,GAAAD,gBAAA;IAAEE,mBAAmB,GAAAF,gBAAA;EAI5CjG,SAAS,CAAE,YAAM;IAAA,IAAAoG,qBAAA;IACf,CAAAA,qBAAA,GAAAd,YAAY,CAACe,OAAO,qBAApBD,qBAAA,CAAsBE,IAAI,CAAC,CAAC;EAE9B,CAAC,EAAE,EAAE,CAAC;EAGNtG,SAAS,CAAC,YAAM;IAEduG,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;IACrCC,4BAA4B,CAAC,CAAC;EAEhC,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMA,4BAA4B;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;MAC/C,IAAAC,qBAAA,SAAyBnG,cAAc,CAACoG,uBAAuB,CAAC,CAAC;QAAzDC,MAAM,GAAAF,qBAAA,CAANE,MAAM;MACdzE,gBAAgB,CAACyE,MAAM,KAAK,SAAS,CAAC;IACxC,CAAC;IAAA,gBAHKL,4BAA4BA,CAAA;MAAA,OAAAC,IAAA,CAAAK,KAAA,OAAAC,SAAA;IAAA;EAAA,GAGjC;EAGDT,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAACpE,aAAa,CAAC;EAIjD,SAAS6E,iBAAiBA,CAACC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAE;IACjDd,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;IAElC,IAAMc,WAAW,GAAG,OAAO;IAG3B,IAAMC,aAAa,GAAGC,SAAS,CAACN,IAAI,CAAC;IACrC,IAAMO,aAAa,GAAGD,SAAS,CAACL,IAAI,CAAC;IACrC,IAAMO,aAAa,GAAGF,SAAS,CAACJ,IAAI,CAAC;IACrC,IAAMO,aAAa,GAAGH,SAAS,CAACH,IAAI,CAAC;IAGrC,IAAMO,OAAO,GAAGF,aAAa,GAAGH,aAAa;IAC7C,IAAMM,OAAO,GAAGF,aAAa,GAAGF,aAAa;IAG7C,IAAMK,CAAC,GACLC,IAAA,CAAAC,GAAA,CAAAD,IAAI,CAACE,GAAG,CAACL,OAAO,GAAG,CAAC,CAAC,EAAI,CAAC,IAC1BG,IAAI,CAACG,GAAG,CAACX,aAAa,CAAC,GAAGQ,IAAI,CAACG,GAAG,CAACR,aAAa,CAAC,GAAAK,IAAA,CAAAC,GAAA,CAAGD,IAAI,CAACE,GAAG,CAACJ,OAAO,GAAG,CAAC,CAAC,EAAI,CAAC;IAChF,IAAMM,CAAC,GAAG,CAAC,GAAGJ,IAAI,CAACK,KAAK,CAACL,IAAI,CAACM,IAAI,CAACP,CAAC,CAAC,EAAEC,IAAI,CAACM,IAAI,CAAC,CAAC,GAAGP,CAAC,CAAC,CAAC;IAGxD,IAAMQ,QAAQ,GAAGhB,WAAW,GAAGa,CAAC;IAChC5B,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAC8B,QAAQ,CAAC;IAEzC,OAAOA,QAAQ;EACjB;EAEA,SAASd,SAASA,CAACe,OAAO,EAAE;IAC1B,OAAOA,OAAO,IAAIR,IAAI,CAACS,EAAE,GAAG,GAAG,CAAC;EAClC;EAEA,SAASC,oBAAoBA,CAACC,cAAc,EAAC;IAG3C,IAAIZ,CAAC,GAAGY,cAAc;IACtBZ,CAAC,GAAG,CAACA,CAAC,GAAEA,CAAC,GAAC,IAAK,IAAE,IAAI;IACrBA,CAAC,GAAG,IAAIa,IAAI,CAACb,CAAC,GAAC,IAAI,CAAC;IAEpB,IAAIc,MAAM,GAAG,CAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,CAAC;IAC1E,IAAIC,IAAI,GAAGf,CAAC,CAACgB,WAAW,CAAC,CAAC;IAC1B,IAAIC,KAAK,GAAGH,MAAM,CAACd,CAAC,CAACkB,QAAQ,CAAC,CAAC,CAAC;IAChC,IAAIC,IAAI,GAAGnB,CAAC,CAACoB,OAAO,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;IAClD,IAAIC,IAAI,GAAGvB,CAAC,CAACwB,QAAQ,CAAC,CAAC;IACvB,IAAIC,GAAG,GAAGzB,CAAC,CAAC0B,UAAU,CAAC,CAAC;IAExB,IAAIC,QAAQ,GAAG,CAACJ,IAAI,GAAG,GAAG,GAAGE,GAAG,EAAEJ,QAAQ,CAAC,CAAC;IAC5C,OAAOM,QAAQ;EACjB;EAEA,SAASC,aAAaA,CAAChB,cAAc,EAAC;IAGpC,IAAIZ,CAAC,GAAGY,cAAc;IACtBZ,CAAC,GAAG,CAACA,CAAC,GAAEA,CAAC,GAAC,IAAK,IAAE,IAAI;IACrBA,CAAC,GAAG,IAAIa,IAAI,CAACb,CAAC,GAAC,IAAI,CAAC;IAEpB,IAAIc,MAAM,GAAG,CAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,CAAC;IAC1E,IAAIC,IAAI,GAAGf,CAAC,CAACgB,WAAW,CAAC,CAAC;IAC1B,IAAIC,KAAK,GAAGH,MAAM,CAACd,CAAC,CAACkB,QAAQ,CAAC,CAAC,CAAC;IAChC,IAAIC,IAAI,GAAGnB,CAAC,CAACoB,OAAO,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;IAClD,IAAIC,IAAI,GAAGvB,CAAC,CAACwB,QAAQ,CAAC,CAAC;IACvB,IAAIC,GAAG,GAAGzB,CAAC,CAAC0B,UAAU,CAAC,CAAC;IAExB,IAAIC,QAAQ,GAAG,CAACZ,IAAI,GAAG,GAAG,GAAGE,KAAK,GAAG,GAAG,GAAGE,IAAI,EAAEE,QAAQ,CAAC,CAAC;IAC3D,OAAOM,QAAQ;EACjB;EAEA,SAASE,kBAAkBA,CAACjB,cAAc,EAAC;IAC3CnC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEkC,cAAc,CAAC;IAC/B,IAAIZ,CAAC,GAAGY,cAAc;IACtBZ,CAAC,GAAG,CAACA,CAAC,GAAEA,CAAC,GAAC,IAAK,IAAE,IAAI;IACvB,OAAOA,CAAC;EACV;EAGA,IAAM8B,cAAc;IAAA,IAAAC,KAAA,GAAAlD,iBAAA,CAAG,WAAMmD,SAAS,EAAEC,UAAU,EAACC,IAAI,EAAG;MAGxDnG,iBAAiB,CAAC,IAAI,CAAC;MAEvB,IAAAoG,qBAAA,SAAuBvJ,QAAQ,CAACwJ,iCAAiC,CAAC,CAAC;QAA7DpD,MAAM,GAAAmD,qBAAA,CAANnD,MAAM;MACZ,IAAIA,MAAM,KAAK,SAAS,EAAE;QACxBqD,WAAW,CAAC,0CAA0C,CAAC;QACvDlF,gBAAgB,CAAC,IAAI,CAAC;QACtB;MACF;MAEA,IAAImF,OAAO,GAAG,IAAI;MAGlB,IAAIC,QAAQ,SAAS3J,QAAQ,CAAC4J,uBAAuB,CAAC,CAAC,CAAC,CAAC;MACzD,IAAGD,QAAQ,YAARA,QAAQ,CAAEE,MAAM,EAAC;QAAA,IAAAC,gBAAA,EAAAC,iBAAA;QAEZ,IAAIxD,iBAAiB,CAACoD,QAAQ,qBAAAG,gBAAA,GAARH,QAAQ,CAAEE,MAAM,qBAAhBC,gBAAA,CAAkBE,QAAQ,EAAEL,QAAQ,qBAAAI,iBAAA,GAARJ,QAAQ,CAAEE,MAAM,qBAAhBE,iBAAA,CAAkBE,SAAS,EAAEb,SAAS,EAAEC,UAAU,CAAC,GAAG,GAAG,EAAC;UAAA,IAAAa,YAAA,EAAAC,mBAAA;UAGtGlK,QAAQ,CAACmK,SAAS,CAAC,CAAC,CAACC,UAAU,CAAC,WAAW,CAAC,CAACC,GAAG,CAAChB,IAAK,CAAC,CAACe,UAAU,CAAC,QAAQ,CAAC,CAACE,KAAK,CAAC,aAAa,EAAC,IAAI,EAACjJ,KAAK,qBAAA4I,YAAA,GAAL5I,KAAK,CAAEkJ,KAAK,sBAAAL,mBAAA,GAAZD,YAAA,CAAcO,MAAM,qBAApBN,mBAAA,CAAsBO,WAAW,CAAC,CAACC,GAAG,CAAC,CAAC,CAACC,IAAI,CAAE,UAAAC,aAAa,EAAE;YAElKA,aAAa,CAACC,OAAO,CAAC,UAACC,gBAAgB,EAAK;cAE1CxI,YAAY,CAACwI,gBAAgB,oBAAhBA,gBAAgB,CAAEC,EAAE,CAAC;cAClC/K,QAAQ,CAACmK,SAAS,CAAC,CAAC,CAACC,UAAU,CAAC,WAAW,CAAC,CAACC,GAAG,CAAChB,IAAK,CAAC,CAACe,UAAU,CAAC,QAAQ,CAAC,CAACC,GAAG,CAACS,gBAAgB,oBAAhBA,gBAAgB,CAAEC,EAAE,CAAC,CACrFX,UAAU,CAAC,YAAY,CAAC,CAACY,GAAG,CAAC;gBAACC,EAAE,EAAEjC,kBAAkB,CAAChB,IAAI,CAACkD,GAAG,CAAC,CAAC,CAAC;gBAAE5C,IAAI,EAAES,aAAa,CAACf,IAAI,CAACkD,GAAG,CAAC,CAAC;cAAE,CAAC,CAAC,CACpGP,IAAI,CAAC,UAACQ,GAAG,EAAG;gBAAEnL,QAAQ,CAACmK,SAAS,CAAC,CAAC,CAACC,UAAU,CAAC,WAAW,CAAC,CAACC,GAAG,CAAChB,IAAK,CAAC,CAACe,UAAU,CAAC,QAAQ,CAAC,CAACC,GAAG,CAACS,gBAAgB,CAACC,EAAE,CAAC,CAACK,MAAM,CAAC;kBAAC,mBAAmB,EAAGD,GAAG,oBAAHA,GAAG,CAAEJ;gBAAE,CAAC,CAAC;cAAC,CAAC,CAAC,CAC9JJ,IAAI,CAAC,UAACQ,GAAG,EAAG;gBAAA,IAAAE,aAAA,EAAAC,oBAAA;gBAAEtL,QAAQ,CAACmK,SAAS,CAAC,CAAC,CAACC,UAAU,CAAC,WAAW,CAAC,CAACC,GAAG,CAAChJ,KAAK,qBAAAgK,aAAA,GAALhK,KAAK,CAAEkJ,KAAK,sBAAAe,oBAAA,GAAZD,aAAA,CAAcb,MAAM,qBAApBc,oBAAA,CAAsBC,GAAI,CAAC,CAACH,MAAM,CAAC;kBAAC,gBAAgB,EAAG;gBAAI,CAAC,CAAC;cAAC,CAAC,CAAC,CAC/HT,IAAI,CAAC;gBAAA,OAAM7H,SAAS,CAAC,OAAO,CAAC;cAAA,CAAE,CAAC;YAkCnD,CAAC,CAAC;UAAC,CAAE,CAAC;QAEZ,CAAC,MAEC;UAEF8C,OAAO,CAACC,GAAG,CAAC,WAAW,EAAE5B,iBAAiB,EAAExB,OAAO,EAACQ,cAAc,EAACI,SAAU,CAAC;UAE5Ea,oBAAoB,CAAC,IAAI,CAAC;UAC1BhB,iBAAiB,CAAC,KAAK,CAAC;UACxBI,YAAY,CAAC,KAAK,CAAC;UAEnBsC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAE5B,iBAAiB,EAAExB,OAAO,EAACQ,cAAc,EAACI,SAAU,CAAC;QAGjF;MACN,CAAC,MACG;QACFiB,gBAAgB,CAAC,IAAI,CAAC;MAExB;IAGN,CAAC;IAAA,gBAvFK2E,cAAcA,CAAAuC,EAAA,EAAAC,GAAA,EAAAC,GAAA;MAAA,OAAAxC,KAAA,CAAA9C,KAAA,OAAAC,SAAA;IAAA;EAAA,GAuFnB;EAGD,IAAMsF,QAAQ;IAAA,IAAAC,KAAA,GAAA5F,iBAAA,CAAG,WAAMmD,SAAS,EAAEC,UAAU,EAACC,IAAI,EAAG;MAGlDnG,iBAAiB,CAAC,IAAI,CAAC;MAEvB,IAAA2I,sBAAA,SAAuB9L,QAAQ,CAACwJ,iCAAiC,CAAC,CAAC;QAA7DpD,MAAM,GAAA0F,sBAAA,CAAN1F,MAAM;MACZ,IAAIA,MAAM,KAAK,SAAS,EAAE;QACxBqD,WAAW,CAAC,0CAA0C,CAAC;QACvDlF,gBAAgB,CAAC,IAAI,CAAC;QACtB;MACF;MAGA,IAAIoF,QAAQ,SAAS3J,QAAQ,CAAC4J,uBAAuB,CAAC,CAAC,CAAC,CAAC;MACzD,IAAGD,QAAQ,YAARA,QAAQ,CAAEE,MAAM,EAAC;QAAA,IAAAkC,iBAAA,EAAAC,iBAAA;QAEZ,IAAIzF,iBAAiB,CAACoD,QAAQ,qBAAAoC,iBAAA,GAARpC,QAAQ,CAAEE,MAAM,qBAAhBkC,iBAAA,CAAkB/B,QAAQ,EAAEL,QAAQ,qBAAAqC,iBAAA,GAARrC,QAAQ,CAAEE,MAAM,qBAAhBmC,iBAAA,CAAkB/B,SAAS,EAAEb,SAAS,EAAEC,UAAU,CAAC,GAAG,GAAG,EAAC;UAAA,IAAA4C,aAAA,EAAAC,oBAAA;UAGtGjM,QAAQ,CAACmK,SAAS,CAAC,CAAC,CAACC,UAAU,CAAC,WAAW,CAAC,CAACC,GAAG,CAAChB,IAAK,CAAC,CAACe,UAAU,CAAC,QAAQ,CAAC,CAACE,KAAK,CAAC,aAAa,EAAC,IAAI,EAACjJ,KAAK,qBAAA2K,aAAA,GAAL3K,KAAK,CAAEkJ,KAAK,sBAAA0B,oBAAA,GAAZD,aAAA,CAAcxB,MAAM,qBAApByB,oBAAA,CAAsBxB,WAAW,CAAC,CAACC,GAAG,CAAC,CAAC,CAACC,IAAI,CAAE,UAAAC,aAAa,EAAE;YAElKA,aAAa,CAACC,OAAO,CAAC,UAACR,GAAG,EAAK;cAE7B/H,YAAY,CAAC+H,GAAG,oBAAHA,GAAG,CAAEU,EAAE,CAAC;cAErB/K,QAAQ,CAACmK,SAAS,CAAC,CAAC,CAACC,UAAU,CAAC,WAAW,CAAC,CAACC,GAAG,CAAChB,IAAI,CAAC,CAACe,UAAU,CAAC,QAAQ,CAAC,CAACC,GAAG,CAACA,GAAG,oBAAHA,GAAG,CAAEU,EAAE,CAAC,CAACX,UAAU,CAAC,YAAY,CAAC,CAACE,KAAK,CAAC,MAAM,EAAC,IAAI,EAACvB,aAAa,CAACf,IAAI,CAACkD,GAAG,CAAC,CAAC,CAAC,CAAC,CAACR,GAAG,CAAC,CAAC,CAACC,IAAI,CAAC,UAAAC,aAAa,EAAE;gBACvLA,aAAa,CAACC,OAAO,CAAC,UAAAC,gBAAgB,EAAE;kBAEtClF,OAAO,CAACC,GAAG,CAACwE,GAAG,oBAAHA,GAAG,CAAEU,EAAE,EAACD,gBAAgB,oBAAhBA,gBAAgB,CAAEC,EAAE,CAAC;kBAEzC/K,QAAQ,CAACmK,SAAS,CAAC,CAAC,CAACC,UAAU,CAAC,WAAW,CAAC,CAACC,GAAG,CAAChB,IAAK,CAAC,CAACe,UAAU,CAAC,QAAQ,CAAC,CAACC,GAAG,CAACA,GAAG,oBAAHA,GAAG,CAAEU,EAAE,CAAC,CAC1EX,UAAU,CAAC,YAAY,CAAC,CAACC,GAAG,CAACS,gBAAgB,oBAAhBA,gBAAgB,CAAEC,EAAE,CAAC,CAACK,MAAM,CAAC;oBAACc,GAAG,EAAElD,kBAAkB,CAAChB,IAAI,CAACkD,GAAG,CAAC,CAAC;kBAAE,CAAC,CAAC,CACjGP,IAAI,CAAC,UAACQ,GAAG;oBAAA,OAAGnL,QAAQ,CAACmK,SAAS,CAAC,CAAC,CAACC,UAAU,CAAC,WAAW,CAAC,CAACC,GAAG,CAAChB,IAAI,CAAC,CAACe,UAAU,CAAC,QAAQ,CAAC,CAACC,GAAG,CAACA,GAAG,oBAAHA,GAAG,CAAEU,EAAE,CAAC,CAACK,MAAM,CAAC;sBAAC,mBAAmB,EAAG;oBAAE,CAAC,CAAC;kBAAA,EAAC,CACxIT,IAAI,CAAC,UAACQ,GAAG,EAAG;oBAAA,IAAAgB,aAAA,EAAAC,oBAAA;oBAAEpM,QAAQ,CAACmK,SAAS,CAAC,CAAC,CAACC,UAAU,CAAC,WAAW,CAAC,CAACC,GAAG,CAAChJ,KAAK,qBAAA8K,aAAA,GAAL9K,KAAK,CAAEkJ,KAAK,sBAAA6B,oBAAA,GAAZD,aAAA,CAAc3B,MAAM,qBAApB4B,oBAAA,CAAsBb,GAAI,CAAC,CAACH,MAAM,CAAC;sBAAC,gBAAgB,EAAG;oBAAK,CAAC,CAAC;kBAAC,CAAC,CAAC,CAChIT,IAAI,CAAC;oBAAA,OAAM7H,SAAS,CAAC,MAAM,CAAC;kBAAA,CAAE,CAAC;gBAEhD,CAAC,CAAC;cAEJ,CAAC,CAAC;YAGJ,CAAC,CAAC;UAAC,CAAE,CAAC;QAEZ,CAAC,MAEC;UAEAoB,oBAAoB,CAAC,IAAI,CAAC;UAC1BhB,iBAAiB,CAAC,KAAK,CAAC;UACxBY,gBAAgB,CAAC,KAAK,CAAC;QACzB;MACN,CAAC,MACEQ,gBAAgB,CAAC,IAAI,CAAC;IAG/B,CAAC;IAAA,gBAvDKqH,QAAQA,CAAAU,GAAA,EAAAC,GAAA,EAAAC,GAAA;MAAA,OAAAX,KAAA,CAAAxF,KAAA,OAAAC,SAAA;IAAA;EAAA,GAuDb;EAGD,IAAMmG,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAAC,KAAA,EAAuB;IAAA,IAAAC,aAAA,EAAAC,oBAAA;IAAA,IAAjBC,IAAI,GAAAH,KAAA,CAAJG,IAAI;MAAEC,IAAI,GAAAJ,KAAA,CAAJI,IAAI;IAExCjH,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;IAE9BnD,UAAU,CAAC,IAAI,CAAC;IAChBR,cAAc,CAAC2K,IAAI,oBAAJA,IAAI,CAAEC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;IAE5C9M,QAAQ,CAACmK,SAAS,CAAC,CAAC,CAACC,UAAU,CAAC,WAAW,CAAC,CAACC,GAAG,CAAChJ,KAAK,qBAAAqL,aAAA,GAALrL,KAAK,CAAEkJ,KAAK,sBAAAoC,oBAAA,GAAZD,aAAA,CAAclC,MAAM,qBAApBmC,oBAAA,CAAsBpB,GAAG,CAAC,CAACwB,UAAU,CAAC,UAAA1C,GAAG,EAAE;MAAA,IAAA2C,SAAA;MAC1F3C,GAAG,aAAA2C,SAAA,GAAH3C,GAAG,CAAEwC,IAAI,CAAC,CAAC,aAAXG,SAAA,CAAaC,cAAc,GAAGnJ,gBAAgB,CAAC,IAAI,CAAC,GAAGR,YAAY,CAAC,IAAI,CAAC;IAC3E,CAAC,CAAC;IAEFtD,QAAQ,CAACmK,SAAS,CAAC,CAAC,CAACC,UAAU,CAAC,WAAW,CAAC,CAACC,GAAG,CAACwC,IAAI,oBAAJA,IAAI,CAAEC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,UAAU,CAAC,UAAA1C,GAAG,EAAE;MAC7FvI,eAAe,CAACuI,GAAG,oBAAHA,GAAG,CAAEwC,IAAI,CAAC,CAAC,CAAC;IAE5B,CAAC,CAAC;EAEN,CAAC;EAED,IAAMK,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;IAEzBtH,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IAEnB,IAAIsH,QAAQ,CAACC,EAAE,KAAK,KAAK,EAAE;MACzBvN,OAAO,CAACwN,OAAO,CAAC,eAAe,CAAC;IAClC,CAAC,MAAM;MACLxN,OAAO,CAACqN,YAAY,CAAC,CAAC;IACxB;EAEF,CAAC;EAKD,OACEjM,KAAA,CAAC1B,IAAI;IAAC+N,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAE5B1M,IAAA,CAACjB,cAAc;MACb4N,gBAAgB,EAAEjL,OAAO,GAAGkL,SAAS,GAAGnB,oBAAqB;MAC7Dc,KAAK,EAAE,CAAC9N,UAAU,CAACoO,kBAAkB,EAAC;QAACC,eAAe,EAAC,OAAO;QAACC,MAAM,EAAC;MAAM,CAAC;IAAE,CAChF,CAAC,EAECrL,OAAO,GAEHY,SAAS,GACOtC,IAAA,CAACxB,IAAI;MAAC+N,KAAK,EAAE;QAACS,KAAK,EAAC,MAAM;QAACD,MAAM,EAAC,MAAM;QAACD,eAAe,EAAC,MAAM;QAACG,OAAO,EAAC,EAAE;QAACC,QAAQ,EAAC,UAAU;QAACC,GAAG,EAAC,IAAI;QAACC,MAAM,EAAC,IAAI;QAACC,YAAY,EAAC,EAAE;QAACC,aAAa,EAAC;MAAE,CAAE;MAAAZ,QAAA,EAEjJ5K,MAAM,GAEH5B,KAAA,CAAAE,SAAA;QAAAsM,QAAA,GACG1M,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,cAAc;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,EAAE;YAACC,WAAW,EAAC;UAAC,CAAE;UAAAjB,QAAA,EAAC;QAAI,CAAM,CAAC,EACzG1M,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,iBAAiB;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,EAAE;YAACC,WAAW,EAAC;UAAC,CAAE;UAAAjB,QAAA,EAAG3F,oBAAoB,CAACE,IAAI,CAACkD,GAAG,CAAC,CAAC;QAAC,CAAS,CAAC,EAC7InK,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,iBAAiB;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,GAAG;YAACC,WAAW,EAAC;UAAC,CAAE;UAAAjB,QAAA,EAAG1E,aAAa,CAACf,IAAI,CAACkD,GAAG,CAAC,CAAC;QAAC,CAAO,CAAC,EAErInK,IAAA,CAACL,OAAO;UACA4M,KAAK,EAAE,CAACC,MAAM,CAACoB,GAAG,EAAC;YAACb,MAAM,EAAC,KAAK;YAACc,UAAU,EAAC,SAAS;YAACR,YAAY,EAAC,EAAE;YAACK,SAAS,EAAC;UAAE,CAAC,CAAE;UACrFI,MAAM,EAAE;YAAC9E,QAAQ,EAAGlI,YAAY,oBAAZA,YAAY,CAAEkI,QAAQ;YAAEC,SAAS,EAAGnI,YAAY,oBAAZA,YAAY,CAAEmI,SAAS;YAAC8E,aAAa,EAAE,MAAM;YAAEC,cAAc,EAAE;UAAM,CAAE;UAAAtB,QAAA,EAE/H1M,IAAA,CAACJ,MAAM;YAACqO,UAAU,EAAE;cAACjF,QAAQ,EAAGlI,YAAY,oBAAZA,YAAY,CAAEkI,QAAQ;cAAEC,SAAS,EAAGnI,YAAY,oBAAZA,YAAY,CAAEmI,SAAS;cAAC8E,aAAa,EAAE,MAAM;cAACC,cAAc,EAAE;YAAM,CAAE;YAC1IE,KAAK,EAAC,QAAQ;YAACC,QAAQ,EAAC,KAAK;YAACC,SAAS;YAAC7B,KAAK,EAAE;cAACS,KAAK,EAAC,GAAG;cAACD,MAAM,EAAC;YAAG;UAAE,CAC9D;QAAC,CAMF,CAAC,EAEF/M,IAAA,CAACxB,IAAI;UAAC+N,KAAK,EAAE;YAACW,QAAQ,EAAC,UAAU;YAACmB,MAAM,EAAC,EAAE;YAACC,IAAI,EAAC,MAAM;YAACC,KAAK,EAAC;UAAM,CAAE;UAAA7B,QAAA,EAKhFxM,KAAA,CAACrB,gBAAgB;YAAC2P,OAAO,EAAE,SAAAA,QAAA;cAAA,IAAAC,iBAAA;cAAA,OAAInO,KAAK,qBAAAmO,iBAAA,GAALnO,KAAK,CAAEoO,UAAU,qBAAjBD,iBAAA,CAAmBE,QAAQ,CAAC,aAAa,EAAC;gBAACC,UAAU,EAAGtN,SAAS;gBAACkJ,GAAG,EAACtJ,WAAW;gBAAE2N,UAAU,EAAG;cAAe,CAAC,CAAC;YAAA,CAAE;YAC5ItC,KAAK,EAAE;cAACO,eAAe,EAAC,MAAM;cAACgC,iBAAiB,EAAC,EAAE;cAACzB,YAAY,EAAC,CAAC;cAACJ,OAAO,EAAC,EAAE;cAAED,KAAK,EAAC,MAAM;cAACU,SAAS,EAAC,EAAE;cAACqB,YAAY,EAAC,EAAE;cAACC,aAAa,EAAC,KAAK;cAACC,cAAc,EAAC,eAAe;cAACpB,UAAU,EAAC;YAAS,CAAE;YAAAnB,QAAA,GAC1L1M,IAAA,CAACzB,IAAI;cAACgO,KAAK,EAAE;gBAACkB,KAAK,EAAC,MAAM;gBAACF,QAAQ,EAAC,EAAE;gBAACC,UAAU,EAAC;cAAc,CAAE;cAAAd,QAAA,EAAC;YAAQ,CAAM,CAAC,EAClF1M,IAAA,CAACV,QAAQ;cAAC4P,IAAI,EAAC,eAAe;cAACC,IAAI,EAAE,EAAG;cAAC1B,KAAK,EAAC,MAAM;cAAClB,KAAK,EAAE;gBAACa,MAAM,EAAC;cAAC;YAAE,CAAE,CAAC;UAAA,CAC/D;QAAC,CAE7B,CAAC;MAAA,CACH,CAAC,GAEJlN,KAAA,CAAAE,SAAA;QAAAsM,QAAA,GAES1M,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,cAAc;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,EAAE;YAACC,WAAW,EAAC;UAAC,CAAE;UAAAjB,QAAA,EAAExK,cAAc,GAAG,aAAa,GAAE;QAAa,CAAO,CAAC,EACpJlC,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,iBAAiB;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,EAAE;YAACC,WAAW,EAAC;UAAC,CAAE;UAAAjB,QAAA,EAAExK,cAAc,GAAG,2BAA2B,GAAG6E,oBAAoB,CAACE,IAAI,CAACkD,GAAG,CAAC,CAAC;QAAC,CAAQ,CAAC,EAC1LnK,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,iBAAiB;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,GAAG;YAACC,WAAW,EAAC;UAAC,CAAE;UAAAjB,QAAA,EAAExK,cAAc,GAAG,uBAAuB,GAAG8F,aAAa,CAACf,IAAI,CAACkD,GAAG,CAAC,CAAC;QAAC,CAAS,CAAC,EAEjLnK,IAAA,CAACL,OAAO;UACN4M,KAAK,EAAE,CAACC,MAAM,CAACoB,GAAG,EAAC;YAACb,MAAM,EAAC,KAAK;YAACc,UAAU,EAAC,SAAS;YAACR,YAAY,EAAC,EAAE;YAACK,SAAS,EAAC;UAAE,CAAC,CAAE;UACrFI,MAAM,EAAE;YAAC9E,QAAQ,EAAGlI,YAAY,oBAAZA,YAAY,CAAEkI,QAAQ;YAAEC,SAAS,EAAGnI,YAAY,oBAAZA,YAAY,CAAEmI,SAAS;YAAC8E,aAAa,EAAE,MAAM;YAAEC,cAAc,EAAE;UAAM,CAAE;UAAAtB,QAAA,EAE/H1M,IAAA,CAACJ,MAAM;YAACqO,UAAU,EAAE;cAACjF,QAAQ,EAAGlI,YAAY,oBAAZA,YAAY,CAAEkI,QAAQ;cAAEC,SAAS,EAAGnI,YAAY,oBAAZA,YAAY,CAAEmI,SAAS;cAAC8E,aAAa,EAAE,MAAM;cAACC,cAAc,EAAE;YAAM,CAAE;YAC1IE,KAAK,EAAC,QAAQ;YAACC,QAAQ,EAAC,KAAK;YAACC,SAAS;YAAC7B,KAAK,EAAE;cAACS,KAAK,EAAC,GAAG;cAACD,MAAM,EAAC;YAAG;UAAE,CAC9D;QAAC,CAMF,CAAC,EAEF/M,IAAA,CAACxB,IAAI;UAAC+N,KAAK,EAAE;YAACW,QAAQ,EAAC,UAAU;YAACmB,MAAM,EAAC,EAAE;YAACC,IAAI,EAAC,MAAM;YAACC,KAAK,EAAC;UAAM,CAAE;UAAA7B,QAAA,EAGxExK,cAAc,GACTlC,IAAA,CAACpB,iBAAiB;YAAC6O,KAAK,EAAE,MAAO;YAAC0B,IAAI,EAAE,OAAQ;YAAC5C,KAAK,EAAE;cAACwC,YAAY,EAAC;YAAE;UAAE,CAAoB,CAAC,GAE/F/O,IAAA,CAACP,WAAW;YACP2P,IAAI,EACFpP,IAAA,CAACX,aAAa;cAAC6P,IAAI,EAAC,sBAAsB;cAACC,IAAI,EAAE,EAAG;cAAC1B,KAAK,EAAC;YAAM,CAAE,CACpE;YACD4B,kBAAkB,EAAE;cAACvC,eAAe,EAAC;YAAO,CAAE;YAC9CwC,UAAU,EAAE,SAAAA,WAAA,EAAM;cAChBpH,cAAc,CAACpH,YAAY,oBAAZA,YAAY,CAAEkI,QAAQ,EAAElI,YAAY,oBAAZA,YAAY,CAAEmI,SAAS,EAAEnI,YAAY,oBAAZA,YAAY,CAAE0J,GAAG,CAAC;YACpF,CAAE;YACF0D,KAAK,EAAC,kBAAkB;YACxBqB,mBAAmB,EAAE;cAAC9B,KAAK,EAAC;YAAM,CAAE;YACpC+B,UAAU,EAAE;cAAC/B,KAAK,EAAC,MAAM;cAACD,UAAU,EAAC,cAAc;cAACD,QAAQ,EAAC;YAAE,CAAE;YACjEF,YAAY,EAAE,EAAG;YACjBoC,sBAAsB,EAAE;cACtBC,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;cACxBC,KAAK,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;cACfC,GAAG,EAAE,CAAC,CAAC,EAAE,GAAG;YACd,CAAE;YACFC,aAAa,EAAC,SAAS;YACvBC,kBAAkB,EAAE;cAACrC,KAAK,EAAC,MAAM;cAACD,UAAU,EAAC,cAAc;cAACD,QAAQ,EAAC;YAAE,CAAE;YAEzEwC,aAAa,EAAE;cACb1C,YAAY,EAAE;YAChB,CAAE;YACF2C,8BAA8B,EAAE;cAC9BN,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;cACxBC,KAAK,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;cACfC,GAAG,EAAE,CAAC,CAAC,EAAE,GAAG;YACd;UAAE,CACH;QAAC,CAKV,CAAC;MAAA,CAEf;IAAC,CAIH,CAAC,GAER9M,aAAa,GAET9C,IAAA,CAACxB,IAAI;MAAC+N,KAAK,EAAE;QAACS,KAAK,EAAC,MAAM;QAACD,MAAM,EAAC,MAAM;QAACD,eAAe,EAAC,MAAM;QAACG,OAAO,EAAC,EAAE;QAACC,QAAQ,EAAC,UAAU;QAACC,GAAG,EAAC,IAAI;QAACmB,IAAI,EAAC,IAAI;QAACjB,YAAY,EAAC,EAAE;QAACC,aAAa,EAAC;MAAE,CAAE;MAAAZ,QAAA,EAEzI5K,MAAM,GAEG5B,KAAA,CAAAE,SAAA;QAAAsM,QAAA,GACG1M,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,cAAc;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,EAAE;YAACC,WAAW,EAAC;UAAC,CAAE;UAAAjB,QAAA,EAAC;QAAI,CAAM,CAAC,EACzG1M,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,iBAAiB;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,EAAE;YAACC,WAAW,EAAC;UAAC,CAAE;UAAAjB,QAAA,EAAG3F,oBAAoB,CAACE,IAAI,CAACkD,GAAG,CAAC,CAAC;QAAC,CAAO,CAAC,EAC3InK,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,iBAAiB;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,GAAG;YAACC,WAAW,EAAC;UAAC,CAAE;UAAAjB,QAAA,EAAG1E,aAAa,CAACf,IAAI,CAACkD,GAAG,CAAC,CAAC;QAAC,CAAO,CAAC,EACrInK,IAAA,CAACL,OAAO;UAChB4M,KAAK,EAAE,CAACC,MAAM,CAACoB,GAAG,EAAC;YAACb,MAAM,EAAC,KAAK;YAACc,UAAU,EAAC,SAAS;YAACR,YAAY,EAAC,EAAE;YAACK,SAAS,EAAC;UAAE,CAAC,CAAE;UACrFI,MAAM,EAAE;YAAC9E,QAAQ,EAAGlI,YAAY,oBAAZA,YAAY,CAAEkI,QAAQ;YAAEC,SAAS,EAAGnI,YAAY,oBAAZA,YAAY,CAAEmI,SAAS;YAAC8E,aAAa,EAAE,MAAM;YAAEC,cAAc,EAAE;UAAM,CAAE;UAAAtB,QAAA,EAE/H1M,IAAA,CAACJ,MAAM;YAACqO,UAAU,EAAE;cAACjF,QAAQ,EAAGlI,YAAY,oBAAZA,YAAY,CAAEkI,QAAQ;cAAEC,SAAS,EAAGnI,YAAY,oBAAZA,YAAY,CAAEmI,SAAS;cAAC8E,aAAa,EAAE,MAAM;cAACC,cAAc,EAAE;YAAM,CAAE;YAC1IE,KAAK,EAAC,QAAQ;YAACC,QAAQ,EAAC,KAAK;YAACC,SAAS;YAAC7B,KAAK,EAAE;cAACS,KAAK,EAAC,GAAG;cAACD,MAAM,EAAC;YAAG;UAAE,CAC9D;QAAC,CAMF,CAAC,EAEF/M,IAAA,CAACxB,IAAI;UAAC+N,KAAK,EAAE;YAACW,QAAQ,EAAC,UAAU;YAACmB,MAAM,EAAC,EAAE;YAACC,IAAI,EAAC,MAAM;YAACC,KAAK,EAAC;UAAM,CAAE;UAAA7B,QAAA,EAGhExM,KAAA,CAACrB,gBAAgB;YAAC2P,OAAO,EAAE,SAAAA,QAAA;cAAA,IAAAyB,kBAAA;cAAA,OAAI3P,KAAK,qBAAA2P,kBAAA,GAAL3P,KAAK,CAAEoO,UAAU,qBAAjBuB,kBAAA,CAAmBtB,QAAQ,CAAC,aAAa,EAAC;gBAACC,UAAU,EAAGtN,SAAS;gBAACkJ,GAAG,EAACtJ,WAAW;gBAAE2N,UAAU,EAAG;cAAe,CAAC,CAAC;YAAA,CAAE;YAC5ItC,KAAK,EAAE;cAACO,eAAe,EAAC,MAAM;cAACgC,iBAAiB,EAAC,EAAE;cAACzB,YAAY,EAAC,CAAC;cAACJ,OAAO,EAAC,EAAE;cAAED,KAAK,EAAC,MAAM;cAACU,SAAS,EAAC,EAAE;cAACqB,YAAY,EAAC,EAAE;cAACC,aAAa,EAAC,KAAK;cAACC,cAAc,EAAC,eAAe;cAACpB,UAAU,EAAC;YAAS,CAAE;YAAAnB,QAAA,GAC1L1M,IAAA,CAACzB,IAAI;cAACgO,KAAK,EAAE;gBAACkB,KAAK,EAAC,MAAM;gBAACF,QAAQ,EAAC,EAAE;gBAACC,UAAU,EAAC;cAAc,CAAE;cAAAd,QAAA,EAAC;YAAQ,CAAM,CAAC,EAClF1M,IAAA,CAACV,QAAQ;cAAC4P,IAAI,EAAC,eAAe;cAACC,IAAI,EAAE,EAAG;cAAC1B,KAAK,EAAC,MAAM;cAAClB,KAAK,EAAE;gBAACa,MAAM,EAAC;cAAC;YAAE,CAAE,CAAC;UAAA,CAC/D;QAAC,CAE7B,CAAC;MAAA,CACH,CAAC,GAEJlN,KAAA,CAAAE,SAAA;QAAAsM,QAAA,GAIC1M,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,cAAc;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,EAAE;YAACC,WAAW,EAAC;UAAC,CAAE;UAAAjB,QAAA,EAAExK,cAAc,GAAG,aAAa,GAAE;QAAY,CAAO,CAAC,EACnJlC,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,iBAAiB;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,EAAE;YAACC,WAAW,EAAC;UAAC,CAAE;UAAAjB,QAAA,EAAExK,cAAc,GAAG,2BAA2B,GAAG6E,oBAAoB,CAACE,IAAI,CAACkD,GAAG,CAAC,CAAC;QAAC,CAAQ,CAAC,EAC1LnK,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,iBAAiB;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,GAAG;YAACC,WAAW,EAAC;UAAC,CAAE;UAAAjB,QAAA,EAAExK,cAAc,GAAG,uBAAuB,GAAG8F,aAAa,CAACf,IAAI,CAACkD,GAAG,CAAC,CAAC;QAAC,CAAS,CAAC,EAEjLnK,IAAA,CAACL,OAAO;UACd4M,KAAK,EAAE,CAACC,MAAM,CAACoB,GAAG,EAAC;YAACb,MAAM,EAAC,KAAK;YAACc,UAAU,EAAC,SAAS;YAACR,YAAY,EAAC,EAAE;YAACK,SAAS,EAAC;UAAE,CAAC,CAAE;UACrFI,MAAM,EAAE;YAAC9E,QAAQ,EAAGlI,YAAY,oBAAZA,YAAY,CAAEkI,QAAQ;YAAEC,SAAS,EAAGnI,YAAY,oBAAZA,YAAY,CAAEmI,SAAS;YAAC8E,aAAa,EAAE,MAAM;YAAEC,cAAc,EAAE;UAAM,CAAE;UAAAtB,QAAA,EAE/H1M,IAAA,CAACJ,MAAM;YAACqO,UAAU,EAAE;cAACjF,QAAQ,EAAGlI,YAAY,oBAAZA,YAAY,CAAEkI,QAAQ;cAAEC,SAAS,EAAGnI,YAAY,oBAAZA,YAAY,CAAEmI,SAAS;cAAC8E,aAAa,EAAE,MAAM;cAACC,cAAc,EAAE;YAAM,CAAE;YAC1IE,KAAK,EAAC,QAAQ;YAACC,QAAQ,EAAC,KAAK;YAACC,SAAS;YAAC7B,KAAK,EAAE;cAACS,KAAK,EAAC,GAAG;cAACD,MAAM,EAAC;YAAG;UAAE,CAC9D;QAAC,CAMF,CAAC,EAEF/M,IAAA,CAACxB,IAAI;UAAC+N,KAAK,EAAE;YAACW,QAAQ,EAAC,UAAU;YAACmB,MAAM,EAAC,EAAE;YAACC,IAAI,EAAC,MAAM;YAACC,KAAK,EAAC;UAAM,CAAE;UAAA7B,QAAA,EAEpExK,cAAc,GACTlC,IAAA,CAACpB,iBAAiB;YAAC6O,KAAK,EAAE,MAAO;YAAC0B,IAAI,EAAE,OAAQ;YAAC5C,KAAK,EAAE;cAACwC,YAAY,EAAC;YAAE;UAAE,CAAoB,CAAC,GAE9F/O,IAAA,CAACP,WAAW;YACV2P,IAAI,EACFpP,IAAA,CAACX,aAAa;cAAC6P,IAAI,EAAC,sBAAsB;cAACC,IAAI,EAAE,EAAG;cAAC1B,KAAK,EAAC;YAAM,CAAE,CACpE;YACD4B,kBAAkB,EAAE;cAACvC,eAAe,EAAC;YAAO,CAAE;YAC9CwC,UAAU,EAAE,SAAAA,WAAA,EAAM;cAChB1E,QAAQ,CAAC9J,YAAY,oBAAZA,YAAY,CAAEkI,QAAQ,EAAElI,YAAY,oBAAZA,YAAY,CAAEmI,SAAS,EAAEnI,YAAY,oBAAZA,YAAY,CAAE0J,GAAG,CAAC;YAC9E,CAAE;YACF0D,KAAK,EAAC,kBAAkB;YACxBqB,mBAAmB,EAAE;cAAC9B,KAAK,EAAC;YAAM,CAAE;YACpC+B,UAAU,EAAE;cAAC/B,KAAK,EAAC,MAAM;cAACD,UAAU,EAAC,cAAc;cAACD,QAAQ,EAAC;YAAE,CAAE;YACjEF,YAAY,EAAE,EAAG;YACjBoC,sBAAsB,EAAE;cACtBC,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;cACxBC,KAAK,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;cACfC,GAAG,EAAE,CAAC,CAAC,EAAE,GAAG;YACd,CAAE;YACFC,aAAa,EAAC,SAAS;YACvBC,kBAAkB,EAAE;cAACrC,KAAK,EAAC,MAAM;cAACD,UAAU,EAAC,cAAc;cAACD,QAAQ,EAAC;YAAE,CAAE;YAEzEwC,aAAa,EAAE;cACb1C,YAAY,EAAE;YAChB,CAAE;YACF2C,8BAA8B,EAAE;cAC9BN,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;cACxBC,KAAK,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;cACfC,GAAG,EAAE,CAAC,CAAC,EAAE,GAAG;YACd;UAAE,CACH;QAAC,CAGJ,CAAC;MAAA,CAEP;IAAC,CAET,CAAC,GAEb,CAAC1M,iBAAiB,IAAII,aAAa,KAAMpD,KAAA,CAAC1B,IAAI;MAAC+N,KAAK,EAAE;QAACS,KAAK,EAAC,MAAM;QAACD,MAAM,EAAC,MAAM;QAACD,eAAe,EAAC,MAAM;QAACoD,UAAU,EAAC;MAAE,CAAE;MAAAxD,QAAA,GAG1HxM,KAAA,CAAC1B,IAAI;QAAC+N,KAAK,EAAE;UAAC4D,OAAO,EAAC,MAAM;UAACnB,aAAa,EAAC,QAAQ;UAACC,cAAc,EAAC,eAAe;UAACpB,UAAU,EAAC,YAAY;UAACT,MAAM,EAAC,EAAE;UAAC2B,YAAY,EAAC;QAAE,CAAE;QAAArC,QAAA,GAElK1M,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,cAAc;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,EAAE;YAACC,WAAW,EAAC;UAAE,CAAE;UAAAjB,QAAA,EAAEpJ,aAAa,GAAG,yBAAyB,GAAG;QAAO,CAAO,CAAC,EAC3JtD,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,iBAAiB;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,EAAE;YAACC,WAAW,EAAC;UAAE,CAAE;UAAAjB,QAAA,EAAEpJ,aAAa,GAAG,iGAAiG,GAAG;QAAsD,CAAQ,CAAC;MAAA,CAGhR,CAAC,EACuBtD,IAAA,CAACL,OAAO;QACM4M,KAAK,EAAE,CAACC,MAAM,CAACoB,GAAG,EAAC;UAACb,MAAM,EAAC,MAAM;UAACc,UAAU,EAAC;QAAS,CAAC,CAAE;QACzDC,MAAM,EAAE;UAAC9E,QAAQ,EAAGlI,YAAY,oBAAZA,YAAY,CAAEkI,QAAQ;UAAEC,SAAS,EAAGnI,YAAY,oBAAZA,YAAY,CAAEmI,SAAS;UAAC8E,aAAa,EAAE,MAAM;UAAEC,cAAc,EAAE;QAAM,CAAE;QAAAtB,QAAA,EAE/H1M,IAAA,CAACJ,MAAM;UAACqO,UAAU,EAAE;YAACjF,QAAQ,EAAGlI,YAAY,oBAAZA,YAAY,CAAEkI,QAAQ;YAAEC,SAAS,EAAGnI,YAAY,oBAAZA,YAAY,CAAEmI,SAAS;YAAC8E,aAAa,EAAE,MAAM;YAACC,cAAc,EAAE;UAAM,CAAE;UAC1IE,KAAK,EAAC,QAAQ;UAACC,QAAQ,EAAC,KAAK;UAACC,SAAS;UAAC7B,KAAK,EAAE;YAACS,KAAK,EAAC,GAAG;YAACD,MAAM,EAAC;UAAG;QAAE,CAC9D;MAAC,CAMF,CAAC,EAEV7M,KAAA,CAACrB,gBAAgB;QACvB2P,OAAO,EAAE,SAAAA,QAAA,EAAK;UAEZ,IAAGlL,aAAa,EAAE6I,YAAY,CAAC,CAAC,MAC5B;YACEhJ,oBAAoB,CAAC,KAAK,CAAC;YAC3BxB,UAAU,CAAC,KAAK,CAAC;YACjBQ,iBAAiB,CAAC,KAAK,CAAC;UAG1B;QAEN,CAAG;QACHoK,KAAK,EAAE;UAACW,QAAQ,EAAC,UAAU;UAACmB,MAAM,EAAC,EAAE;UAACvB,eAAe,EAAC,MAAM;UAACG,OAAO,EAAC,EAAE;UAACQ,KAAK,EAAC,MAAM;UAAC2C,UAAU,EAAC,EAAE;UAAC7C,QAAQ,EAAC,EAAE;UAACP,KAAK,EAAC,KAAK;UAAC+B,YAAY,EAAC,EAAE;UAACC,aAAa,EAAC,KAAK;UAACC,cAAc,EAAC,eAAe;UAACpB,UAAU,EAAC;QAAS,CAAE;QAAAnB,QAAA,GACpN1M,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,gBAAgB;YAACC,KAAK,EAAC;UAAO,CAAE;UAAAf,QAAA,EACjEpJ,aAAa,GAAG,qBAAqB,GAAG;QAAW,CAAO,CAAC,EAC/DtD,IAAA,CAACV,QAAQ;UAAC4P,IAAI,EAAC,eAAe;UAACC,IAAI,EAAE,EAAG;UAAC1B,KAAK,EAAC,MAAM;UAAClB,KAAK,EAAE;YAACa,MAAM,EAAC;UAAC;QAAE,CAAE,CAAC;MAAA,CACzD,CAAC;IAAA,CAQjB,CAAC,GAE3B1M,aAAa,KAAK,KAAK,IAAIA,aAAa,KAAK,IAAI,GAC/CR,KAAA,CAAC1B,IAAI;MAAC+N,KAAK,EAAE;QAACS,KAAK,EAAC,MAAM;QAACD,MAAM,EAAC,MAAM;QAACD,eAAe,EAAC,MAAM;QAACoD,UAAU,EAAC;MAAE,CAAE;MAAAxD,QAAA,GAEjFxM,KAAA,CAAC1B,IAAI;QAAC+N,KAAK,EAAE;UAAC4D,OAAO,EAAC,MAAM;UAACnB,aAAa,EAAC,QAAQ;UAACC,cAAc,EAAC,eAAe;UAACpB,UAAU,EAAC,YAAY;UAACT,MAAM,EAAC,EAAE;UAAC2B,YAAY,EAAC;QAAE,CAAE;QAAArC,QAAA,GAEpJ1M,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,cAAc;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,EAAE;YAACC,WAAW,EAAC;UAAE,CAAE;UAAAjB,QAAA,EAAC;QAAa,CAAM,CAAC,EACnH1M,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,iBAAiB;YAACC,KAAK,EAAC,MAAM;YAACC,SAAS,EAAC,EAAE;YAACC,WAAW,EAAC;UAAE,CAAE;UAAAjB,QAAA,EAAC;QAAgG,CAAM,CAAC;MAAA,CAGnM,CAAC,EAEP1M,IAAA,CAACT,UAAU;QACqB8Q,GAAG,EAAEzM,YAAa;QAClB0M,QAAQ;QACRC,IAAI,EAAE,IAAK;QACXhE,KAAK,EAAE;UAACiE,IAAI,EAAC,CAAC;UAACvB,cAAc,EAAC,QAAQ;UAACpB,UAAU,EAAC;QAAQ,CAAE;QAC5D4C,MAAM,EAAEC,OAAO,wBAAwB;MAAE,CAC1C,CAAC,EAGJxQ,KAAA,CAACrB,gBAAgB;QACvB2P,OAAO,EAAE,SAAAA,QAAA,EAAK;UAEXrC,YAAY,CAAC,CAAC;QAGjB,CAAG;QACHI,KAAK,EAAE;UAACW,QAAQ,EAAC,UAAU;UAACmB,MAAM,EAAC,EAAE;UAACvB,eAAe,EAAC,MAAM;UAACG,OAAO,EAAC,EAAE;UAACQ,KAAK,EAAC,MAAM;UAAC2C,UAAU,EAAC,EAAE;UAAC7C,QAAQ,EAAC,EAAE;UAACP,KAAK,EAAC,KAAK;UAAC+B,YAAY,EAAC,EAAE;UAACC,aAAa,EAAC,KAAK;UAACC,cAAc,EAAC,eAAe;UAACpB,UAAU,EAAC;QAAS,CAAE;QAAAnB,QAAA,GACpN1M,IAAA,CAACzB,IAAI;UAACgO,KAAK,EAAE;YAACgB,QAAQ,EAAC,EAAE;YAACC,UAAU,EAAC,gBAAgB;YAACC,KAAK,EAAC;UAAO,CAAE;UAAAf,QAAA,EACjE;QAAqB,CAAO,CAAC,EACjC1M,IAAA,CAACV,QAAQ;UAAC4P,IAAI,EAAC,eAAe;UAACC,IAAI,EAAE,EAAG;UAAC1B,KAAK,EAAC,MAAM;UAAClB,KAAK,EAAE;YAACa,MAAM,EAAC;UAAC;QAAE,CAAE,CAAC;MAAA,CACzD,CAAC;IAAA,CAQjB,CAAC,GACVlN,KAAA,CAAC1B,IAAI;MAAC+N,KAAK,EAAE;QAACyC,aAAa,EAAC,KAAK;QAACC,cAAc,EAAC,eAAe;QAACjC,KAAK,EAAC,MAAM;QAACa,UAAU,EAAC,YAAY;QAACT,MAAM,EAAC,EAAE;QAACF,QAAQ,EAAC,UAAU;QAACmB,MAAM,EAAC;MAAE,CAAE;MAAA3B,QAAA,GAEhJ1M,IAAA,CAACzB,IAAI;QAACgO,KAAK,EAAE;UAACgB,QAAQ,EAAC,EAAE;UAACC,UAAU,EAAC,gBAAgB;UAACC,KAAK,EAAC,MAAM;UAAC2C,UAAU,EAAC;QAAE,CAAE;QAAA1D,QAAA,EAAC;MAAY,CAAM,CAAC,EAEtG1M,IAAA,CAACxB,IAAI;QAAC+N,KAAK,EAAE;UAACoE,WAAW,EAAC;QAAE,CAAE;QAAAjE,QAAA,EAAG1M,IAAA,CAACxB,IAAI;UAAC+N,KAAK,EAAEC,MAAM,CAACoE,SAAU;UAAAlE,QAAA,EACzD1M,IAAA,CAACnB,gBAAgB;YAEjB2P,OAAO,EAAE,SAAAA,QAAA,EAAI;cACX7P,KAAK,CAACkS,KAAK,CAAC,SAAS,EAAE,6BAA6B,EAAE,CACpD;gBACEC,IAAI,EAAE,SAAS;gBACftC,OAAO,EAAE,SAAAA,QAAA,EAAM;kBACbvP,QAAQ,CAAC8R,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;kBACvDC,CAAC;gBAA4B;cACH,CAAC,EAAC;gBACAH,IAAI,EAAE,QAAQ;gBACdtC,OAAO,EAAE,SAAAA,QAAA;kBAAA,OAAM3J,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;gBAAA;gBAC5CyH,KAAK,EAAE;cACT,CAAC,CACF,CAAC;YACJ,CAAE;YAGFA,KAAK,EAAE;cAAC4D,OAAO,EAAC,MAAM;cAAClB,cAAc,EAAC,QAAQ;cAACiC,SAAS,EAAC,QAAQ;cAACxD,SAAS,EAAC;YAAC,CAAE;YAAAhB,QAAA,EAC7E1M,IAAA,CAACX,aAAa;cAAC6P,IAAI,EAAC,WAAW;cAACC,IAAI,EAAE,EAAG;cAAC1B,KAAK,EAAG;YAAO,CAAE;UAAC,CAC5C;QAAC,CACjB;MAAC,CAED,CAAC;IAAA,CAGnB,CAAC;EAAA,CASG,CAAC;AAEX;AAEA,IAAMjB,MAAM,GAAG/N,UAAU,CAAC0S,MAAM,CAAC;EAC/B1E,SAAS,EAAE;IACT+D,IAAI,EAAE;EACR;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}